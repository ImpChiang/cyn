import{_ as et,w as Tr,g as En}from "./el-tooltip-0cc6a5c0.js";import{d as Je,c as qt,o as j,a as de,b as re,r as An,n as Ir,e as je,f as Wu,g as ku,h as Nt,i as Yu,F as pt,j as Et,k as Ju,u as le,l as Ze,w as Fe,m as Lt,p as Xu,q as ie,s as Qt,E as Cn,t as Gu,v as Ku,x as Qu,y as _n,z as bn,A as ju,B as ei,C as ti,D as ri,G as ni,H as ui,I as ft,J as zr,K as Or,L as Bn,M as mr,N as ii,O as ai,P as oi,Q as si}from "./main-b6ca091c.js";const Mn= e=>{if(typeof e=="object"){const t=Array.isArray(e)?[]:{};for(const r in e)typeof e[r]=="object"?t[r]=Mn(e[r]):t[r]=e[r];return t}return e},fi=["innerHTML"],ci=Je({name:"LmButton"}),li=Je({...ci,props:{canEdit:{type:Boolean,default:!1},type:{type:String,default:"default"},propValue:{type:String},element:{type:Object,default:()=>{}}},setup(e){const t=e,r=qt(()=>`button-${t.type}`);return(u, n)=>(j(),de("button",{class:Ir(["button",r.value])},[re("div",{innerHTML:e.propValue},null,8,fi),An(u.$slots,"default",{},void 0,!0)],2))}});const hi=et(li,[["__scopeId","data-v-94f728d6"]]),di=Tr(hi),vi={class:"text-wrap"},pi=["contenteditable","innerHTML"],Di=Je({name:"LmButton"}),mi=Je({...Di,props:{canEdit:{type:Boolean,default:!1},type:{type:String,default:"default"},text:{type:String},propValue:{type:Object},element:{type:Object,default:()=>{}}},emits:["input"],setup(e, {emit:t}){const r=e,u=qt(()=>`text-${r.type}`),n= i=>{t("input",r.element,i.target.innerHTML)};return(i, f)=>(j(),de("div",vi,[re("div",{class:Ir(["text",u.value]),contenteditable:e.canEdit,onInput:n,innerHTML:e.propValue},null,42,pi)]))}});const gi=et(mi,[["__scopeId","data-v-5e6e8a6c"]]),wi=Tr(gi),gr= e=>isNaN(Number(e))?String(e):`${e}px`,yi=["src","date-src","alt"],Fi=Je({__name:"index",props:{src:String,fit:{type:String,default:"fill"},position:{type:String,default:"center"},alt:{type:String,default:""},width:{type:String,default:"center"},height:{type:String,default:""},round:{type:Boolean,default:!1},radius:[String,Number],showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},lazyLoad:{type:Boolean,default:!0}},emits:["click","load","error"],setup(e, {emit:t}){const r=e;console.log(r,"props-----------------image");const u=qt(()=>{let c={};return r.width&&(c.width=gr(r.width)),r.height&&(c.height=gr(r.height)),r.radius!==void 0&&r.radius!==null&&(c.overflow="hidden",c.borderRadius=gr(r.radius)),c}),n=qt(()=>({objectFit:r.fit,objectPosition:r.position})),i=je(null),f=je(!1),h=je(null),l=()=>{const c={threshold:[0],rootMargin:"0px"};i.value=new IntersectionObserver(d=>{d.forEach(D=>{D.isIntersecting&&(f.value=!0,i.value.disconnect())})},c),h.value&&i.value.observe(h.value)};Wu(()=>{r.lazyLoad&&l()}),ku(()=>{i.value&&i.value.disconnect()});const v=()=>{t("load")},o=()=>{t("error")},a= c=>{t("click",c)};return(c, d)=>(j(),de("div",{class:"lm-image",style:Nt(u.value),onClick:a},[re("img",{ref_key:"imgRef",ref:h,class:"lm-img",src:e.lazyLoad?f.value?e.src:void 0:e.src,"date-src":e.lazyLoad?f.value?void 0:e.src:void 0,alt:e.alt,onLoad:v,onError:o,style:Nt(n.value)},null,44,yi)],4))}});const Ei=et(Fi,[["__scopeId","data-v-eb0cc3e4"]]),Ai=Tr(Ei),It=Yu({id:"global-config",state:()=>({componentData:[],canvasStyleData:{width:750,height:1334,scale:54,background:"#fff",fontSize:14,opacity:1},curComponent:{id:"",component:"",label:"",style:{}},curComponentIndex:0}),actions:{addComponent(e, t){t&&this.componentData.push(e)},setCurComponent(e, t){console.log(e,t),this.curComponent=e,this.curComponentIndex=t},setShapeStyle(e){this.curComponent=Object.assign({style:e})}}});let Ci=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t, r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");const _i=()=>Ci();function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1; t<arguments.length; t++){var r=arguments[t];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u])}return e},Ar.apply(this,arguments)}var Sn={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function me(e){return typeof e=="number"}function $e(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Nn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function xn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Tn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function ut(e){return typeof e=="string"}var pe=Array.isArray;function Me(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function jt(e){return Array.isArray(e)||Me(e)}function bi(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Bi(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Mi(e){return e&&e.constructor.prototype.isRange===!0||!1}function Pr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Si(e){return typeof e=="boolean"}function Ni(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function xi(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Ti(e){return typeof e=="function"}function Ii(e){return e instanceof Date}function zi(e){return e instanceof RegExp}function Oi(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Nn(e)&&!xn(e))}function Pi(e){return e===null}function $i(e){return e===void 0}function Ri(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Li(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function qi(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ui(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vi(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zi(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hi(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wi(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function ki(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yi(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ji(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xi(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gi(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ki(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qi(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ji(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function ea(e){return e&&e.constructor.prototype.isChain===!0||!1}function xt(e){var t=typeof e;return t==="object"?e===null?"null":$e(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function we(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return we(r)});if(e instanceof Date)return new Date(e.valueOf());if($e(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return ta(e,we)}function ta(e, t){var r={};for(var u in e)Ut(e,u)&&(r[u]=t(e[u]));return r}function In(e, t){for(var r in t)Ut(t,r)&&(e[r]=t[r]);return e}function er(e, t){var r,u,n;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(u=0,n=e.length; u<n; u++)if(!er(e[u],t[u]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!er(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Ut(e, t){return e&&Object.hasOwnProperty.call(e,t)}function ra(e, t){for(var r={},u=0; u<t.length; u++){var n=t[u],i=e[n];i!==void 0&&(r[n]=i)}return r}var na=["Matrix","Array"],ua=["number","BigNumber","Fraction"],Zt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Sn)};Ar(Zt,Sn,{MATRIX_OPTIONS:na,NUMBER_OPTIONS:ua});function tt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ia(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var u=0,n=function(){};return{s:n,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(v){throw v},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,f=!1,h;return{s:function(){r=r.call(e)},n:function(){var v=r.next();return i=v.done,v},e:function(v){f=!0,h=v},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(f)throw h}}}}function ia(e,t){if(e){if(typeof e=="string")return Xr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xr(e,t)}}function Xr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,u=new Array(t);r<t;r++)u[r]=e[r];return u}function Mt(e){"@babel/helpers - typeof";return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(e)}function Gr(){return!0}function Qe(){return!1}function Bt(){}var Kr="Argument is not a typed-function.";function zn(){function e(y){return Mt(y)==="object"&&y!==null&&y.constructor===Object}var t=[{name:"number",test:function(_){return typeof _=="number"}},{name:"string",test:function(_){return typeof _=="string"}},{name:"boolean",test:function(_){return typeof _=="boolean"}},{name:"Function",test:function(_){return typeof _=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(_){return _ instanceof Date}},{name:"RegExp",test:function(_){return _ instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(_){return _===null}},{name:"undefined",test:function(_){return _===void 0}}],r={name:"any",test:Gr,isAny:!0},u,n,i=0,f={createCount:0};function h(y){var _=u.get(y);if(_)return _;var M='Unknown type "'+y+'"',x=y.toLowerCase(),O,P=tt(n),L;try{for(P.s();!(L=P.n()).done;)if(O=L.value,O.toLowerCase()===x){M+='. Did you mean "'+O+'" ?';break}}catch(I){P.e(I)}finally{P.f()}throw new TypeError(M)}function l(y){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",M=_?h(_).index:n.length,x=[],O=0;O<y.length;++O){if(!y[O]||typeof y[O].name!="string"||typeof y[O].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var P=y[O].name;if(u.has(P))throw new TypeError('Duplicate type name "'+P+'"');x.push(P),u.set(P,{name:P,test:y[O].test,isAny:y[O].isAny,index:M+O,conversionsTo:[]})}var L=n.slice(M);n=n.slice(0,M).concat(x).concat(L);for(var I=M+x.length;I<n.length;++I)u.get(n[I]).index=I}function v(){u=new Map,n=[],i=0,l([r],!1)}v(),l(t);function o(){var y,_=tt(n),M;try{for(_.s();!(M=_.n()).done;)y=M.value,u.get(y).conversionsTo=[]}catch(x){_.e(x)}finally{_.f()}i=0}function a(y){var _=n.filter(function(M){var x=u.get(M);return!x.isAny&&x.test(y)});return _.length?_:["any"]}function c(y){return y&&typeof y=="function"&&"_typedFunctionData"in y}function d(y,_,M){if(!c(y))throw new TypeError(Kr);var x=M&&M.exact,O=Array.isArray(_)?_.join(","):_,P=C(O),L=p(P);if(!x||L in y.signatures){var I=y._typedFunctionData.signatureMap.get(L);if(I)return I}var $=P.length,J;if(x){J=[];var ee;for(ee in y.signatures)J.push(y._typedFunctionData.signatureMap.get(ee))}else J=y._typedFunctionData.signatures;for(var q=0;q<$;++q){var qe=P[q],Te=[],Pe=void 0,be=tt(J),He;try{for(be.s();!(He=be.n()).done;){Pe=He.value;var Ne=A(Pe.params,q);if(!(!Ne||qe.restParam&&!Ne.restParam)){if(!Ne.hasAny){var Ke=function(){var We=g(Ne);if(qe.types.some(function(Ft){return!We.has(Ft.name)}))return"continue"}();if(Ke==="continue")continue}Te.push(Pe)}}}catch(We){be.e(We)}finally{be.f()}if(J=Te,J.length===0)break}var Ue,Ve=tt(J),yt;try{for(Ve.s();!(yt=Ve.n()).done;)if(Ue=yt.value,Ue.params.length<=$)return Ue}catch(We){Ve.e(We)}finally{Ve.f()}throw new TypeError("Signature not found (signature: "+(y.name||"unnamed")+"("+p(P,", ")+"))")}function D(y,_,M){return d(y,_,M).implementation}function s(y,_){var M=h(_);if(M.test(y))return y;var x=M.conversionsTo;if(x.length===0)throw new Error("There are no conversions to "+_+" defined.");for(var O=0;O<x.length;O++){var P=h(x[O].from);if(P.test(y))return x[O].convert(y)}throw new Error("Cannot convert "+y+" to "+_)}function p(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return y.map(function(M){return M.name}).join(_)}function m(y){var _=y.indexOf("...")===0,M=_?y.length>3?y.slice(3):"any":y,x=M.split("|").map(function(I){return h(I.trim())}),O=!1,P=_?"...":"",L=x.map(function(I){return O=I.isAny||O,P+=I.name+"|",{name:I.name,typeIndex:I.index,test:I.test,isAny:I.isAny,conversion:null,conversionIndex:-1}});return{types:L,name:P.slice(0,-1),hasAny:O,hasConversion:!1,restParam:_}}function F(y){var _=y.types.map(function(L){return L.name}),M=k(_),x=y.hasAny,O=y.name,P=M.map(function(L){var I=h(L.from);return x=I.isAny||x,O+="|"+L.from,{name:L.from,typeIndex:I.index,test:I.test,isAny:I.isAny,conversion:L,conversionIndex:L.index}});return{types:y.types.concat(P),name:O,hasAny:x,hasConversion:P.length>0,restParam:y.restParam}}function g(y){return y.typeSet||(y.typeSet=new Set,y.types.forEach(function(_){return y.typeSet.add(_.name)})),y.typeSet}function C(y){var _=[];if(typeof y!="string")throw new TypeError("Signatures must be strings");var M=y.trim();if(M==="")return _;for(var x=M.split(","),O=0;O<x.length;++O){var P=m(x[O].trim());if(P.restParam&&O!==x.length-1)throw new SyntaxError('Unexpected rest parameter "'+x[O]+'": only allowed for the last parameter');if(P.types.length===0)return null;_.push(P)}return _}function E(y){var _=fe(y);return _?_.restParam:!1}function w(y){if(!y||y.types.length===0)return Gr;if(y.types.length===1)return h(y.types[0].name).test;if(y.types.length===2){var _=h(y.types[0].name).test,M=h(y.types[1].name).test;return function(P){return _(P)||M(P)}}else{var x=y.types.map(function(O){return h(O.name).test});return function(P){for(var L=0;L<x.length;L++)if(x[L](P))return!0;return!1}}}function B(y){var _,M,x;if(E(y)){_=Le(y).map(w);var O=_.length,P=w(fe(y)),L=function($){for(var J=O;J<$.length;J++)if(!P($[J]))return!1;return!0};return function($){for(var J=0;J<_.length;J++)if(!_[J]($[J]))return!1;return L($)&&$.length>=O+1}}else return y.length===0?function($){return $.length===0}:y.length===1?(M=w(y[0]),function($){return M($[0])&&$.length===1}):y.length===2?(M=w(y[0]),x=w(y[1]),function($){return M($[0])&&x($[1])&&$.length===2}):(_=y.map(w),function($){for(var J=0;J<_.length;J++)if(!_[J]($[J]))return!1;return $.length===_.length})}function A(y,_){return _<y.length?y[_]:E(y)?fe(y):null}function b(y,_){var M=A(y,_);return M?g(M):new Set}function S(y){return y.conversion===null||y.conversion===void 0}function N(y,_){var M=new Set;return y.forEach(function(x){var O=b(x.params,_),P,L=tt(O),I;try{for(L.s();!(I=L.n()).done;)P=I.value,M.add(P)}catch($){L.e($)}finally{L.f()}}),M.has("any")?["any"]:Array.from(M)}function R(y,_,M){var x,O,P=y||"unnamed",L=M,I,$=function(){var be=[];if(L.forEach(function(Ne){var Ke=A(Ne.params,I),Ue=w(Ke);(I<Ne.params.length||E(Ne.params))&&Ue(_[I])&&be.push(Ne)}),be.length===0){if(O=N(L,I),O.length>0){var He=a(_[I]);return x=new TypeError("Unexpected type of argument in function "+P+" (expected: "+O.join(" or ")+", actual: "+He.join(" | ")+", index: "+I+")"),x.data={category:"wrongType",fn:P,index:I,actual:He,expected:O},{v:x}}}else L=be};for(I=0;I<_.length;I++){var J=$();if(Mt(J)==="object")return J.v}var ee=L.map(function(Pe){return E(Pe.params)?1/0:Pe.params.length});if(_.length<Math.min.apply(null,ee))return O=N(L,I),x=new TypeError("Too few arguments in function "+P+" (expected: "+O.join(" or ")+", index: "+_.length+")"),x.data={category:"tooFewArgs",fn:P,index:_.length,expected:O},x;var q=Math.max.apply(null,ee);if(_.length>q)return x=new TypeError("Too many arguments in function "+P+" (expected: "+q+", actual: "+_.length+")"),x.data={category:"tooManyArgs",fn:P,index:_.length,expectedLength:q},x;for(var qe=[],Te=0;Te<_.length;++Te)qe.push(a(_[Te]).join("|"));return x=new TypeError('Arguments of type "'+qe.join(", ")+'" do not match any of the defined signatures of function '+P+"."),x.data={category:"mismatch",actual:qe},x}function Z(y){for(var _=n.length+1,M=0;M<y.types.length;M++)S(y.types[M])&&(_=Math.min(_,y.types[M].typeIndex));return _}function U(y){for(var _=i+1,M=0;M<y.types.length;M++)S(y.types[M])||(_=Math.min(_,y.types[M].conversionIndex));return _}function V(y,_){if(y.hasAny){if(!_.hasAny)return 1}else if(_.hasAny)return-1;if(y.restParam){if(!_.restParam)return 1}else if(_.restParam)return-1;if(y.hasConversion){if(!_.hasConversion)return 1}else if(_.hasConversion)return-1;var M=Z(y)-Z(_);if(M<0)return-1;if(M>0)return 1;var x=U(y)-U(_);return x<0?-1:x>0?1:0}function z(y,_){var M=y.params,x=_.params,O=fe(M),P=fe(x),L=E(M),I=E(x);if(L&&O.hasAny){if(!I||!P.hasAny)return 1}else if(I&&P.hasAny)return-1;var $=0,J=0,ee,q=tt(M),qe;try{for(q.s();!(qe=q.n()).done;)ee=qe.value,ee.hasAny&&++$,ee.hasConversion&&++J}catch(Pt){q.e(Pt)}finally{q.f()}var Te=0,Pe=0,be=tt(x),He;try{for(be.s();!(He=be.n()).done;)ee=He.value,ee.hasAny&&++Te,ee.hasConversion&&++Pe}catch(Pt){be.e(Pt)}finally{be.f()}if($!==Te)return $-Te;if(L&&O.hasConversion){if(!I||!P.hasConversion)return 1}else if(I&&P.hasConversion)return-1;if(J!==Pe)return J-Pe;if(L){if(!I)return 1}else if(I)return-1;var Ne=(M.length-x.length)*(L?-1:1);if(Ne!==0)return Ne;for(var Ke=[],Ue=0,Ve=0;Ve<M.length;++Ve){var yt=V(M[Ve],x[Ve]);Ke.push(yt),Ue+=yt}if(Ue!==0)return Ue;for(var We,Ft=0,Wt=Ke;Ft<Wt.length;Ft++)if(We=Wt[Ft],We!==0)return We;return 0}function k(y){if(y.length===0)return[];var _=y.map(h);y.length>1&&_.sort(function($,J){return $.index-J.index});var M=_[0].conversionsTo;if(y.length===1)return M;M=M.concat([]);for(var x=new Set(y),O=1;O<_.length;++O){var P=void 0,L=tt(_[O].conversionsTo),I;try{for(L.s();!(I=L.n()).done;)P=I.value,x.has(P.from)||(M.push(P),x.add(P.from))}catch($){L.e($)}finally{L.f()}}return M}function H(y,_){var M=_;if(y.some(function(I){return I.hasConversion})){var x=E(y),O=y.map(Y);M=function(){for(var $=[],J=x?arguments.length-1:arguments.length,ee=0;ee<J;ee++)$[ee]=O[ee](arguments[ee]);return x&&($[J]=arguments[J].map(O[J])),_.apply(this,$)}}var P=M;if(E(y)){var L=y.length-1;P=function(){return M.apply(this,oe(arguments,0,L).concat([oe(arguments,L)]))}}return P}function Y(y){var _,M,x,O,P=[],L=[];switch(y.types.forEach(function(I){I.conversion&&(P.push(h(I.conversion.from).test),L.push(I.conversion.convert))}),L.length){case 0:return function($){return $};case 1:return _=P[0],x=L[0],function($){return _($)?x($):$};case 2:return _=P[0],M=P[1],x=L[0],O=L[1],function($){return _($)?x($):M($)?O($):$};default:return function($){for(var J=0;J<L.length;J++)if(P[J]($))return L[J]($);return $}}}function K(y){function _(M,x,O){if(x<M.length){var P=M[x],L=[];if(P.restParam){var I=P.types.filter(S);I.length<P.types.length&&L.push({types:I,name:"..."+I.map(function($){return $.name}).join("|"),hasAny:I.some(function($){return $.isAny}),hasConversion:!1,restParam:!0}),L.push(P)}else L=P.types.map(function($){return{types:[$],name:$.name,hasAny:$.isAny,hasConversion:$.conversion,restParam:!1}});return xe(L,function($){return _(M,x+1,O.concat([$]))})}else return[O]}return _(y,0,[])}function ue(y,_){for(var M=Math.max(y.length,_.length),x=0;x<M;x++){var O=b(y,x),P=b(_,x),L=!1,I=void 0,$=tt(P),J;try{for($.s();!(J=$.n()).done;)if(I=J.value,O.has(I)){L=!0;break}}catch(Pe){$.e(Pe)}finally{$.f()}if(!L)return!1}var ee=y.length,q=_.length,qe=E(y),Te=E(_);return qe?Te?ee===q:q>=ee:Te?ee>=q:ee===q}function ne(y){return y.map(function(_){return ot(_)?Ge(_.referToSelf.callback):at(_)?Se(_.referTo.references,_.referTo.callback):_})}function te(y,_,M){var x=[],O,P=tt(y),L;try{for(P.s();!(L=P.n()).done;){O=L.value;var I=M[O];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+O+'"');if(I=_[I],typeof I!="function")return!1;x.push(I)}}catch($){P.e($)}finally{P.f()}return x}function Ee(y,_,M){for(var x=ne(y),O=new Array(x.length).fill(!1),P=!0;P;){P=!1;for(var L=!0,I=0;I<x.length;++I)if(!O[I]){var $=x[I];if(ot($))x[I]=$.referToSelf.callback(M),x[I].referToSelf=$.referToSelf,O[I]=!0,L=!1;else if(at($)){var J=te($.referTo.references,x,_);J?(x[I]=$.referTo.callback.apply(this,J),x[I].referTo=$.referTo,O[I]=!0,L=!1):P=!0}}if(L&&P)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return x}function ye(y){var _=/\bthis(\(|\.signatures\b)/;Object.keys(y).forEach(function(M){var x=y[M];if(_.test(x.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function _e(y,_){if(f.createCount++,Object.keys(_).length===0)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&ye(_);var M=[],x=[],O={},P=[],L,I=function(){if(!Object.prototype.hasOwnProperty.call(_,L))return"continue";var Ie=C(L);if(!Ie)return"continue";M.forEach(function(bt){if(ue(bt,Ie))throw new TypeError('Conflicting signatures "'+p(bt)+'" and "'+p(Ie)+'".')}),M.push(Ie);var kr=x.length;x.push(_[L]);var Hu=Ie.map(F),kt=void 0,Yt=tt(K(Hu)),Yr;try{for(Yt.s();!(Yr=Yt.n()).done;){kt=Yr.value;var Jr=p(kt);P.push({params:kt,name:Jr,fn:kr}),kt.every(function(bt){return!bt.hasConversion})&&(O[Jr]=kr)}}catch(bt){Yt.e(bt)}finally{Yt.f()}};for(L in _)var $=I();P.sort(z);var J=Ee(x,O,Rt),ee;for(ee in O)Object.prototype.hasOwnProperty.call(O,ee)&&(O[ee]=J[O[ee]]);for(var q=[],qe=new Map,Te=0,Pe=P;Te<Pe.length;Te++)ee=Pe[Te],qe.has(ee.name)||(ee.fn=J[ee.fn],q.push(ee),qe.set(ee.name,ee));for(var be=q[0]&&q[0].params.length<=2&&!E(q[0].params),He=q[1]&&q[1].params.length<=2&&!E(q[1].params),Ne=q[2]&&q[2].params.length<=2&&!E(q[2].params),Ke=q[3]&&q[3].params.length<=2&&!E(q[3].params),Ue=q[4]&&q[4].params.length<=2&&!E(q[4].params),Ve=q[5]&&q[5].params.length<=2&&!E(q[5].params),yt=be&&He&&Ne&&Ke&&Ue&&Ve,We=0;We<q.length;++We)q[We].test=B(q[We].params);for(var Ft=be?w(q[0].params[0]):Qe,Wt=He?w(q[1].params[0]):Qe,Pt=Ne?w(q[2].params[0]):Qe,gu=Ke?w(q[3].params[0]):Qe,wu=Ue?w(q[4].params[0]):Qe,yu=Ve?w(q[5].params[0]):Qe,Fu=be?w(q[0].params[1]):Qe,Eu=He?w(q[1].params[1]):Qe,Au=Ne?w(q[2].params[1]):Qe,Cu=Ke?w(q[3].params[1]):Qe,_u=Ue?w(q[4].params[1]):Qe,bu=Ve?w(q[5].params[1]):Qe,$t=0;$t<q.length;++$t)q[$t].implementation=H(q[$t].params,q[$t].fn);var Bu=be?q[0].implementation:Bt,Mu=He?q[1].implementation:Bt,Su=Ne?q[2].implementation:Bt,Nu=Ke?q[3].implementation:Bt,xu=Ue?q[4].implementation:Bt,Tu=Ve?q[5].implementation:Bt,Iu=be?q[0].params.length:-1,zu=He?q[1].params.length:-1,Ou=Ne?q[2].params.length:-1,Pu=Ke?q[3].params.length:-1,$u=Ue?q[4].params.length:-1,Ru=Ve?q[5].params.length:-1,Lu=yt?6:0,qu=q.length,Uu=q.map(function(Ye){return Ye.test}),Vu=q.map(function(Ye){return Ye.implementation}),Zu=function(){for(var Ie=Lu;Ie<qu;Ie++)if(Uu[Ie](arguments))return Vu[Ie].apply(this,arguments);return f.onMismatch(y,arguments,q)};function Rt(Ye,Ie){return arguments.length===Iu&&Ft(Ye)&&Fu(Ie)?Bu.apply(this,arguments):arguments.length===zu&&Wt(Ye)&&Eu(Ie)?Mu.apply(this,arguments):arguments.length===Ou&&Pt(Ye)&&Au(Ie)?Su.apply(this,arguments):arguments.length===Pu&&gu(Ye)&&Cu(Ie)?Nu.apply(this,arguments):arguments.length===$u&&wu(Ye)&&_u(Ie)?xu.apply(this,arguments):arguments.length===Ru&&yu(Ye)&&bu(Ie)?Tu.apply(this,arguments):Zu.apply(this,arguments)}try{Object.defineProperty(Rt,"name",{value:y})}catch{}return Rt.signatures=O,Rt._typedFunctionData={signatures:q,signatureMap:qe},Rt}function ve(y,_,M){throw R(y,_,M)}function Le(y){return oe(y,0,y.length-1)}function fe(y){return y[y.length-1]}function oe(y,_,M){return Array.prototype.slice.call(y,_,M)}function Xe(y,_){for(var M=0;M<y.length;M++)if(_(y[M]))return y[M]}function xe(y,_){return Array.prototype.concat.apply([],y.map(_))}function ce(){var y=Le(arguments).map(function(M){return p(C(M))}),_=fe(arguments);if(typeof _!="function")throw new TypeError("Callback function expected as last argument");return Se(y,_)}function Se(y,_){return{referTo:{references:y,callback:_}}}function Ge(y){if(typeof y!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:y}}}function at(y){return y&&Mt(y.referTo)==="object"&&Array.isArray(y.referTo.references)&&typeof y.referTo.callback=="function"}function ot(y){return y&&Mt(y.referToSelf)==="object"&&typeof y.referToSelf.callback=="function"}function Ct(y,_){if(!y)return _;if(_&&_!==y){var M=new Error("Function names do not match (expected: "+y+", actual: "+_+")");throw M.data={actual:_,expected:y},M}return y}function _t(y){var _;for(var M in y)Object.prototype.hasOwnProperty.call(y,M)&&(c(y[M])||typeof y[M].signature=="string")&&(_=Ct(_,y[M].name));return _}function Dr(y,_){var M;for(M in _)if(Object.prototype.hasOwnProperty.call(_,M)){if(M in y&&_[M]!==y[M]){var x=new Error('Signature "'+M+'" is defined twice');throw x.data={signature:M,sourceFunction:_[M],destFunction:y[M]},x}y[M]=_[M]}}var mu=f;f=function(_){for(var M=typeof _=="string",x=M?1:0,O=M?_:"",P={},L=x;L<arguments.length;++L){var I=arguments[L],$={},J=void 0;if(typeof I=="function"?(J=I.name,typeof I.signature=="string"?$[I.signature]=I:c(I)&&($=I.signatures)):e(I)&&($=I,M||(J=_t(I))),Object.keys($).length===0){var ee=new TypeError("Argument to 'typed' at index "+L+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw ee.data={index:L,argument:I},ee}M||(O=Ct(O,J)),Dr(P,$)}return _e(O||"",P)},f.create=zn,f.createCount=mu.createCount,f.onMismatch=ve,f.throwMismatchError=ve,f.createError=R,f.clear=v,f.clearConversions=o,f.addTypes=l,f._findType=h,f.referTo=ce,f.referToSelf=Ge,f.convert=s,f.findSignature=d,f.find=D,f.isTypedFunction=c,f.warnAgainstDeprecatedThis=!0,f.addType=function(y,_){var M="any";_!==!1&&u.has("Object")&&(M="Object"),f.addTypes([y],M)};function Wr(y){if(!y||typeof y.from!="string"||typeof y.to!="string"||typeof y.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(y.to===y.from)throw new SyntaxError('Illegal to define conversion from "'+y.from+'" to itself.')}return f.addConversion=function(y){Wr(y);var _=h(y.to);if(_.conversionsTo.every(function(M){return M.from!==y.from}))_.conversionsTo.push({from:y.from,convert:y.convert,index:i++});else throw new Error('There is already a conversion from "'+y.from+'" to "'+_.name+'"')},f.addConversions=function(y){y.forEach(f.addConversion)},f.removeConversion=function(y){Wr(y);var _=h(y.to),M=Xe(_.conversionsTo,function(O){return O.from===y.from});if(!M)throw new Error("Attempt to remove nonexistent conversion from "+y.from+" to "+y.to);if(M.convert!==y.convert)throw new Error("Conversion to remove does not match existing conversion");var x=_.conversionsTo.indexOf(M);_.conversionsTo.splice(x,1)},f.resolve=function(y,_){if(!c(y))throw new TypeError(Kr);for(var M=y._typedFunctionData.signatures,x=0;x<M.length;++x)if(M[x].test(_))return M[x];return null},f}const Qr=zn();function Ce(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function wr(e,t,r){var u={2:"0b",8:"0o",16:"0x"},n=u[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ce(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ce(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),i="i".concat(r)}var f="";return e<0&&(e=-e,f="-"),"".concat(f).concat(n).concat(e.toString(t)).concat(i)}function Cr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r="auto",u,n;if(t&&(t.notation&&(r=t.notation),me(t)?u=t:me(t.precision)&&(u=t.precision),t.wordSize&&(n=t.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return oa(e,u);case"exponential":return On(e,u);case"engineering":return aa(e,u);case"bin":return wr(e,2,n);case"oct":return wr(e,8,n);case"hex":return wr(e,16,n);case"auto":return sa(e,u,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],f=arguments[4];return i!=="."?i+f:f});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function or(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],u=t[2],n=parseFloat(t[4]||"0"),i=u.indexOf(".");n+=i!==-1?i-1:u.length-1;var f=u.replace(".","").replace(/^0*/,function(h){return n-=h.length,""}).replace(/0*$/,"").split("").map(function(h){return parseInt(h)});return f.length===0&&(f.push(0),n++),{sign:r,coefficients:f,exponent:n}}function aa(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=or(e),u=sr(r,t),n=u.exponent,i=u.coefficients,f=n%3===0?n:n<0?n-3-n%3:n-n%3;if(me(t))for(;t>i.length||n-f+1>i.length;)i.push(0);else for(var h=Math.abs(n-f)-(i.length-1),l=0;l<h;l++)i.push(0);for(var v=Math.abs(n-f),o=1;v>0;)o++,v--;var a=i.slice(o).join(""),c=me(t)&&a.length||a.match(/[1-9]/)?"."+a:"",d=i.slice(0,o).join("")+c+"e"+(n>=0?"+":"")+f.toString();return u.sign+d}function oa(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=or(e),u=typeof t=="number"?sr(r,r.exponent+1+t):r,n=u.coefficients,i=u.exponent+1,f=i+(t||0);return n.length<f&&(n=n.concat(Tt(f-n.length))),i<0&&(n=Tt(-i+1).concat(n),i=1),i<n.length&&n.splice(i,0,i===0?"0.":"."),u.sign+n.join("")}function On(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=or(e),u=t?sr(r,t):r,n=u.coefficients,i=u.exponent;n.length<t&&(n=n.concat(Tt(t-n.length)));var f=n.shift();return u.sign+f+(n.length>0?"."+n.join(""):"")+"e"+(i>=0?"+":"")+i}function sa(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var u=r&&r.lowerExp!==void 0?r.lowerExp:-3,n=r&&r.upperExp!==void 0?r.upperExp:5,i=or(e),f=t?sr(i,t):i;if(f.exponent<u||f.exponent>=n)return On(e,t);var h=f.coefficients,l=f.exponent;h.length<t&&(h=h.concat(Tt(t-h.length))),h=h.concat(Tt(l-h.length+1+(h.length<t?t-h.length:0))),h=Tt(-l).concat(h);var v=l>0?l:0;return v<h.length-1&&h.splice(v+1,0,"."),f.sign+h.join("")}function sr(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},u=r.coefficients;t<=0;)u.unshift(0),r.exponent++,t++;if(u.length>t){var n=u.splice(t,u.length-t);if(n[0]>=5){var i=t-1;for(u[i]++;u[i]===10;)u.pop(),i===0&&(u.unshift(0),r.exponent++,i++),i--,u[i]++}}return r}function Tt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function fa(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var ca=Number.EPSILON||2220446049250313e-31;function tr(e,t,r){if(r==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var u=Math.abs(e-t);return u<ca?!0:u<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}function yr(e,t,r){var u=e.constructor,n=new u(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ce(r))throw new Error("size must be an integer");if(e.greaterThan(n.pow(r-1).sub(1))||e.lessThan(n.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function la(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r="auto",u,n;if(t!==void 0&&(t.notation&&(r=t.notation),typeof t=="number"?u=t:t.precision!==void 0&&(u=t.precision),t.wordSize&&(n=t.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return da(e,u);case"exponential":return jr(e,u);case"engineering":return ha(e,u);case"bin":return yr(e,2,n);case"oct":return yr(e,8,n);case"hex":return yr(e,16,n);case"auto":{var i=t&&t.lowerExp!==void 0?t.lowerExp:-3,f=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var h,l=e.toSignificantDigits(u),v=l.e;return v>=i&&v<f?h=l.toFixed():h=jr(e,u),h.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],a=arguments[4];return o!=="."?o+a:a})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ha(e,t){var r=e.e,u=r%3===0?r:r<0?r-3-r%3:r-r%3,n=e.mul(Math.pow(10,-u)),i=n.toPrecision(t);if(i.indexOf("e")!==-1){var f=e.constructor;i=new f(i).toFixed()}return i+"e"+(r>=0?"+":"")+u.toString()}function jr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function da(e,t){return e.toFixed(t)}function Ae(e,t){var r=va(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function va(e,t){if(typeof e=="number")return Cr(e,t);if($e(e))return la(e,t);if(pa(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return Pn(e,t);if(ut(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(u=>'"'+u+'": '+Ae(e[u],t));return"{"+r.join(", ")+"}"}return String(e)}function Pn(e,t){if(Array.isArray(e)){for(var r="[",u=e.length,n=0;n<u;n++)n!==0&&(r+=", "),r+=Pn(e[n],t);return r+="]",r}else return Ae(e,t)}function pa(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function ae(e,t,r){if(!(this instanceof ae))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}ae.prototype=new RangeError;ae.prototype.constructor=RangeError;ae.prototype.name="DimensionError";ae.prototype.isDimensionError=!0;function At(e,t,r){if(!(this instanceof At))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}At.prototype=new RangeError;At.prototype.constructor=RangeError;At.prototype.name="IndexError";At.prototype.isIndexError=!0;function lt(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function $n(e,t,r){var u,n=e.length;if(n!==t[r])throw new ae(n,t[r]);if(r<t.length-1){var i=r+1;for(u=0;u<n;u++){var f=e[u];if(!Array.isArray(f))throw new ae(t.length-1,t.length,"<");$n(e[u],t,i)}}else for(u=0;u<n;u++)if(Array.isArray(e[u]))throw new ae(t.length+1,t.length,">")}function en(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new ae(e.length,0)}else $n(e,t,0)}function De(e,t){if(!me(e)||!Ce(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new At(e,t)}function _r(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(n){if(!me(n)||!Ce(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ae(t)+")")});var u=r!==void 0?r:0;return br(e,t,0,u),e}function br(e,t,r,u){var n,i,f=e.length,h=t[r],l=Math.min(f,h);if(e.length=h,r<t.length-1){var v=r+1;for(n=0;n<l;n++)i=e[n],Array.isArray(i)||(i=[i],e[n]=i),br(i,t,v,u);for(n=l;n<h;n++)i=[],e[n]=i,br(i,t,v,u)}else{for(n=0;n<l;n++)for(;Array.isArray(e[n]);)e[n]=e[n][0];for(n=l;n<h;n++)e[n]=u}}function Da(e,t){var r=ga(e),u=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new ae(0,u,"!=");t=$r(t,u);var n=Rn(t);if(u!==n)throw new ae(n,u,"!=");try{return ma(r,t)}catch(i){throw i instanceof ae?new ae(n,u,"!="):i}}function $r(e,t){var r=Rn(e),u=e.slice(),n=-1,i=e.indexOf(n),f=e.indexOf(n,i+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var h=i>=0,l=t%r===0;if(h)if(l)u[i]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return u}function Rn(e){return e.reduce((t,r)=>t*r,1)}function ma(e,t){for(var r=e,u,n=t.length-1;n>0;n--){var i=t[n];u=[];for(var f=r.length/i,h=0;h<f;h++)u.push(r.slice(h*i,(h+1)*i));r=u}return r}function Ln(e,t,r,u){var n=u||lt(e);if(r)for(var i=0;i<r;i++)e=[e],n.unshift(1);for(e=qn(e,t,0);n.length<t;)n.push(1);return e}function qn(e,t,r){var u,n;if(Array.isArray(e)){var i=r+1;for(u=0,n=e.length;u<n;u++)e[u]=qn(e[u],t,i)}else for(var f=r;f<t;f++)e=[e];return e}function ga(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(u){Array.isArray(u)?u.forEach(r):t.push(u)}),t}function rr(e,t){for(var r,u=0,n=0;n<e.length;n++){var i=e[n],f=Array.isArray(i);if(n===0&&f&&(u=i.length),f&&i.length!==u)return;var h=f?rr(i,t):t(i);if(r===void 0)r=h;else if(r!==h)return"mixed"}return r}function Q(e,t,r,u){function n(i){var f=ra(i,t.map(Fa));return wa(e,t,i),r(f)}return n.isFactory=!0,n.fn=e,n.dependencies=t.slice().sort(),u&&(n.meta=u),n}function wa(e,t,r){var u=t.filter(i=>!ya(i)).every(i=>r[i]!==void 0);if(!u){var n=t.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function ya(e){return e&&e[0]==="?"}function Fa(e){return e&&e[0]==="?"?e.slice(1):e}function Ea(e,t){if(Vn(e)&&Un(e,t))return e[t];throw typeof e[t]=="function"&&_a(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Aa(e,t,r){if(Vn(e)&&Un(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Ca(e,t){return t in e}function Un(e,t){return!e||typeof e!="object"?!1:Ut(ba,t)?!0:!(t in Object.prototype||t in Function.prototype)}function _a(e,t){return e==null||typeof e[t]!="function"||Ut(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Ut(Ba,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Vn(e){return typeof e=="object"&&e&&e.constructor===Object}var ba={length:!0,name:!0},Ba={toString:!0,valueOf:!0,toLocaleString:!0};class Ma{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return Ea(this.wrappedObject,t)}set(t,r){return Aa(this.wrappedObject,t,r),this}has(t){return Ca(this.wrappedObject,t)}}function Sa(e){return e?e instanceof Map||e instanceof Ma||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Zn=function(){return Zn=Qr.create,Qr},Na=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],xa=Q("typed",Na,function(t){var{BigNumber:r,Complex:u,DenseMatrix:n,Fraction:i}=t,f=Zn();return f.clear(),f.addTypes([{name:"number",test:me},{name:"Complex",test:Nn},{name:"BigNumber",test:$e},{name:"Fraction",test:xn},{name:"Unit",test:Tn},{name:"identifier",test:h=>ut&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(h)},{name:"string",test:ut},{name:"Chain",test:ea},{name:"Array",test:pe},{name:"Matrix",test:Me},{name:"DenseMatrix",test:bi},{name:"SparseMatrix",test:Bi},{name:"Range",test:Mi},{name:"Index",test:Pr},{name:"boolean",test:Si},{name:"ResultSet",test:Ni},{name:"Help",test:xi},{name:"function",test:Ti},{name:"Date",test:Ii},{name:"RegExp",test:zi},{name:"null",test:Pi},{name:"undefined",test:$i},{name:"AccessorNode",test:Ri},{name:"ArrayNode",test:Li},{name:"AssignmentNode",test:qi},{name:"BlockNode",test:Ui},{name:"ConditionalNode",test:Vi},{name:"ConstantNode",test:Zi},{name:"FunctionNode",test:Wi},{name:"FunctionAssignmentNode",test:Hi},{name:"IndexNode",test:ki},{name:"Node",test:Yi},{name:"ObjectNode",test:Ji},{name:"OperatorNode",test:Xi},{name:"ParenthesisNode",test:Gi},{name:"RangeNode",test:Ki},{name:"RelationalNode",test:Qi},{name:"SymbolNode",test:ji},{name:"Map",test:Sa},{name:"Object",test:Oi}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Fr(l),fa(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return u||Jt(l),new u(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return u||Jt(l),new u(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return u||Jt(l),new u(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){i||Er(l);var v=new i(l);if(v.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return v}},{from:"string",to:"number",convert:function(l){var v=Number(l);if(isNaN(v))throw new Error('Cannot convert "'+l+'" to a number');return v}},{from:"string",to:"BigNumber",convert:function(l){r||Fr(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){i||Er(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){u||Jt(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Fr(l),new r(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return i||Er(l),new i(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return n||Ta(),new n(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),f.onMismatch=(h,l,v)=>{var o=f.createError(h,l,v);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&jt(l[0])&&v.some(c=>!c.params.includes(","))){var a=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw a.data=o.data,a}throw o},f.onMismatch=(h,l,v)=>{var o=f.createError(h,l,v);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&jt(l[0])&&v.some(c=>!c.params.includes(","))){var a=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw a.data=o.data,a}throw o},f});function Fr(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Jt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Ta(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Er(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var St=9e15,gt=1e9,Br="0123456789abcdef",nr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ur="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Mr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-St,maxE:St,crypto:!1},Hn,ct,G=!0,fr="[DecimalError] ",Dt=fr+"Invalid argument: ",Wn=fr+"Precision limit exceeded",kn=fr+"crypto unavailable",Yn="[object Decimal]",Re=Math.floor,Be=Math.pow,Ia=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,za=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Oa=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Jn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nt=1e7,X=7,Pa=9007199254740991,$a=nr.length-1,Sr=ur.length-1,T={toStringTag:Yn};T.absoluteValue=T.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),W(e)};T.ceil=function(){return W(new this.constructor(this),this.e+1,2)};T.clampedTo=T.clamp=function(e,t){var r,u=this,n=u.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(Dt+t);return r=u.cmp(e),r<0?e:u.cmp(t)>0?t:new n(u)};T.comparedTo=T.cmp=function(e){var t,r,u,n,i=this,f=i.d,h=(e=new i.constructor(e)).d,l=i.s,v=e.s;if(!f||!h)return!l||!v?NaN:l!==v?l:f===h?0:!f^l<0?1:-1;if(!f[0]||!h[0])return f[0]?l:h[0]?-v:0;if(l!==v)return l;if(i.e!==e.e)return i.e>e.e^l<0?1:-1;for(u=f.length,n=h.length,t=0,r=u<n?u:n;t<r;++t)if(f[t]!==h[t])return f[t]>h[t]^l<0?1:-1;return u===n?0:u>n^l<0?1:-1};T.cosine=T.cos=function(){var e,t,r=this,u=r.constructor;return r.d?r.d[0]?(e=u.precision,t=u.rounding,u.precision=e+Math.max(r.e,r.sd())+X,u.rounding=1,r=Ra(u,jn(u,r)),u.precision=e,u.rounding=t,W(ct==2||ct==3?r.neg():r,e,t,!0)):new u(1):new u(NaN)};T.cubeRoot=T.cbrt=function(){var e,t,r,u,n,i,f,h,l,v,o=this,a=o.constructor;if(!o.isFinite()||o.isZero())return new a(o);for(G=!1,i=o.s*Be(o.s*o,1/3),!i||Math.abs(i)==1/0?(r=Oe(o.d),e=o.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=Be(r,1/3),e=Re((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),u=new a(r),u.s=o.s):u=new a(i.toString()),f=(e=a.precision)+3;;)if(h=u,l=h.times(h).times(h),v=l.plus(o),u=he(v.plus(o).times(h),v.plus(l),f+2,1),Oe(h.d).slice(0,f)===(r=Oe(u.d)).slice(0,f))if(r=r.slice(f-3,f+1),r=="9999"||!n&&r=="4999"){if(!n&&(W(h,e+1,0),h.times(h).times(h).eq(o))){u=h;break}f+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(W(u,e+1,1),t=!u.times(u).times(u).eq(o));break}return G=!0,W(u,e,a.rounding,t)};T.decimalPlaces=T.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Re(this.e/X))*X,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};T.dividedBy=T.div=function(e){return he(this,new this.constructor(e))};T.dividedToIntegerBy=T.divToInt=function(e){var t=this,r=t.constructor;return W(he(t,new r(e),0,1,1),r.precision,r.rounding)};T.equals=T.eq=function(e){return this.cmp(e)===0};T.floor=function(){return W(new this.constructor(this),this.e+1,3)};T.greaterThan=T.gt=function(e){return this.cmp(e)>0};T.greaterThanOrEqualTo=T.gte=function(e){var t=this.cmp(e);return t==1||t===0};T.hyperbolicCosine=T.cosh=function(){var e,t,r,u,n,i=this,f=i.constructor,h=new f(1);if(!i.isFinite())return new f(i.s?1/0:NaN);if(i.isZero())return h;r=f.precision,u=f.rounding,f.precision=r+Math.max(i.e,i.sd())+4,f.rounding=1,n=i.d.length,n<32?(e=Math.ceil(n/3),t=(1/lr(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=zt(f,1,i.times(t),new f(1),!0);for(var l,v=e,o=new f(8);v--;)l=i.times(i),i=h.minus(l.times(o.minus(l.times(o))));return W(i,f.precision=r,f.rounding=u,!0)};T.hyperbolicSine=T.sinh=function(){var e,t,r,u,n=this,i=n.constructor;if(!n.isFinite()||n.isZero())return new i(n);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(n.e,n.sd())+4,i.rounding=1,u=n.d.length,u<3)n=zt(i,2,n,n,!0);else{e=1.4*Math.sqrt(u),e=e>16?16:e|0,n=n.times(1/lr(5,e)),n=zt(i,2,n,n,!0);for(var f,h=new i(5),l=new i(16),v=new i(20);e--;)f=n.times(n),n=n.times(h.plus(f.times(l.times(f).plus(v))))}return i.precision=t,i.rounding=r,W(n,t,r,!0)};T.hyperbolicTangent=T.tanh=function(){var e,t,r=this,u=r.constructor;return r.isFinite()?r.isZero()?new u(r):(e=u.precision,t=u.rounding,u.precision=e+7,u.rounding=1,he(r.sinh(),r.cosh(),u.precision=e,u.rounding=t)):new u(r.s)};T.inverseCosine=T.acos=function(){var e,t=this,r=t.constructor,u=t.abs().cmp(1),n=r.precision,i=r.rounding;return u!==-1?u===0?t.isNeg()?rt(r,n,i):new r(0):new r(NaN):t.isZero()?rt(r,n+4,i).times(.5):(r.precision=n+6,r.rounding=1,t=t.asin(),e=rt(r,n+4,i).times(.5),r.precision=n,r.rounding=i,e.minus(t))};T.inverseHyperbolicCosine=T.acosh=function(){var e,t,r=this,u=r.constructor;return r.lte(1)?new u(r.eq(1)?0:NaN):r.isFinite()?(e=u.precision,t=u.rounding,u.precision=e+Math.max(Math.abs(r.e),r.sd())+4,u.rounding=1,G=!1,r=r.times(r).minus(1).sqrt().plus(r),G=!0,u.precision=e,u.rounding=t,r.ln()):new u(r)};T.inverseHyperbolicSine=T.asinh=function(){var e,t,r=this,u=r.constructor;return!r.isFinite()||r.isZero()?new u(r):(e=u.precision,t=u.rounding,u.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,u.rounding=1,G=!1,r=r.times(r).plus(1).sqrt().plus(r),G=!0,u.precision=e,u.rounding=t,r.ln())};T.inverseHyperbolicTangent=T.atanh=function(){var e,t,r,u,n=this,i=n.constructor;return n.isFinite()?n.e>=0?new i(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=i.precision,t=i.rounding,u=n.sd(),Math.max(u,e)<2*-n.e-1?W(new i(n),e,t,!0):(i.precision=r=u-n.e,n=he(n.plus(1),new i(1).minus(n),r+e,1),i.precision=e+4,i.rounding=1,n=n.ln(),i.precision=e,i.rounding=t,n.times(.5))):new i(NaN)};T.inverseSine=T.asin=function(){var e,t,r,u,n=this,i=n.constructor;return n.isZero()?new i(n):(t=n.abs().cmp(1),r=i.precision,u=i.rounding,t!==-1?t===0?(e=rt(i,r+4,u).times(.5),e.s=n.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,n=n.div(new i(1).minus(n.times(n)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=u,n.times(2)))};T.inverseTangent=T.atan=function(){var e,t,r,u,n,i,f,h,l,v=this,o=v.constructor,a=o.precision,c=o.rounding;if(v.isFinite()){if(v.isZero())return new o(v);if(v.abs().eq(1)&&a+4<=Sr)return f=rt(o,a+4,c).times(.25),f.s=v.s,f}else{if(!v.s)return new o(NaN);if(a+4<=Sr)return f=rt(o,a+4,c).times(.5),f.s=v.s,f}for(o.precision=h=a+10,o.rounding=1,r=Math.min(28,h/X+2|0),e=r;e;--e)v=v.div(v.times(v).plus(1).sqrt().plus(1));for(G=!1,t=Math.ceil(h/X),u=1,l=v.times(v),f=new o(v),n=v;e!==-1;)if(n=n.times(l),i=f.minus(n.div(u+=2)),n=n.times(l),f=i.plus(n.div(u+=2)),f.d[t]!==void 0)for(e=t;f.d[e]===i.d[e]&&e--;);return r&&(f=f.times(2<<r-1)),G=!0,W(f,o.precision=a,o.rounding=c,!0)};T.isFinite=function(){return!!this.d};T.isInteger=T.isInt=function(){return!!this.d&&Re(this.e/X)>this.d.length-2};T.isNaN=function(){return!this.s};T.isNegative=T.isNeg=function(){return this.s<0};T.isPositive=T.isPos=function(){return this.s>0};T.isZero=function(){return!!this.d&&this.d[0]===0};T.lessThan=T.lt=function(e){return this.cmp(e)<0};T.lessThanOrEqualTo=T.lte=function(e){return this.cmp(e)<1};T.logarithm=T.log=function(e){var t,r,u,n,i,f,h,l,v=this,o=v.constructor,a=o.precision,c=o.rounding,d=5;if(e==null)e=new o(10),t=!0;else{if(e=new o(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new o(NaN);t=e.eq(10)}if(r=v.d,v.s<0||!r||!r[0]||v.eq(1))return new o(r&&!r[0]?-1/0:v.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(n=r[0];n%10===0;)n/=10;i=n!==1}if(G=!1,h=a+d,f=vt(v,h),u=t?ir(o,h+10):vt(e,h),l=he(f,u,h,1),Vt(l.d,n=a,c))do if(h+=10,f=vt(v,h),u=t?ir(o,h+10):vt(e,h),l=he(f,u,h,1),!i){+Oe(l.d).slice(n+1,n+15)+1==1e14&&(l=W(l,a+1,0));break}while(Vt(l.d,n+=10,c));return G=!0,W(l,a,c)};T.minus=T.sub=function(e){var t,r,u,n,i,f,h,l,v,o,a,c,d=this,D=d.constructor;if(e=new D(e),!d.d||!e.d)return!d.s||!e.s?e=new D(NaN):d.d?e.s=-e.s:e=new D(e.d||d.s!==e.s?d:NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(v=d.d,c=e.d,h=D.precision,l=D.rounding,!v[0]||!c[0]){if(c[0])e.s=-e.s;else if(v[0])e=new D(d);else return new D(l===3?-0:0);return G?W(e,h,l):e}if(r=Re(e.e/X),o=Re(d.e/X),v=v.slice(),i=o-r,i){for(a=i<0,a?(t=v,i=-i,f=c.length):(t=c,r=o,f=v.length),u=Math.max(Math.ceil(h/X),f)+2,i>u&&(i=u,t.length=1),t.reverse(),u=i;u--;)t.push(0);t.reverse()}else{for(u=v.length,f=c.length,a=u<f,a&&(f=u),u=0;u<f;u++)if(v[u]!=c[u]){a=v[u]<c[u];break}i=0}for(a&&(t=v,v=c,c=t,e.s=-e.s),f=v.length,u=c.length-f;u>0;--u)v[f++]=0;for(u=c.length;u>i;){if(v[--u]<c[u]){for(n=u;n&&v[--n]===0;)v[n]=nt-1;--v[n],v[u]+=nt}v[u]-=c[u]}for(;v[--f]===0;)v.pop();for(;v[0]===0;v.shift())--r;return v[0]?(e.d=v,e.e=cr(v,r),G?W(e,h,l):e):new D(l===3?-0:0)};T.modulo=T.mod=function(e){var t,r=this,u=r.constructor;return e=new u(e),!r.d||!e.s||e.d&&!e.d[0]?new u(NaN):!e.d||r.d&&!r.d[0]?W(new u(r),u.precision,u.rounding):(G=!1,u.modulo==9?(t=he(r,e.abs(),0,3,1),t.s*=e.s):t=he(r,e,0,u.modulo,1),t=t.times(e),G=!0,r.minus(t))};T.naturalExponential=T.exp=function(){return Nr(this)};T.naturalLogarithm=T.ln=function(){return vt(this)};T.negated=T.neg=function(){var e=new this.constructor(this);return e.s=-e.s,W(e)};T.plus=T.add=function(e){var t,r,u,n,i,f,h,l,v,o,a=this,c=a.constructor;if(e=new c(e),!a.d||!e.d)return!a.s||!e.s?e=new c(NaN):a.d||(e=new c(e.d||a.s===e.s?a:NaN)),e;if(a.s!=e.s)return e.s=-e.s,a.minus(e);if(v=a.d,o=e.d,h=c.precision,l=c.rounding,!v[0]||!o[0])return o[0]||(e=new c(a)),G?W(e,h,l):e;if(i=Re(a.e/X),u=Re(e.e/X),v=v.slice(),n=i-u,n){for(n<0?(r=v,n=-n,f=o.length):(r=o,u=i,f=v.length),i=Math.ceil(h/X),f=i>f?i+1:f+1,n>f&&(n=f,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for(f=v.length,n=o.length,f-n<0&&(n=f,r=o,o=v,v=r),t=0;n;)t=(v[--n]=v[n]+o[n]+t)/nt|0,v[n]%=nt;for(t&&(v.unshift(t),++u),f=v.length;v[--f]==0;)v.pop();return e.d=v,e.e=cr(v,u),G?W(e,h,l):e};T.precision=T.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dt+e);return r.d?(t=Xn(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};T.round=function(){var e=this,t=e.constructor;return W(new t(e),e.e+1,t.rounding)};T.sine=T.sin=function(){var e,t,r=this,u=r.constructor;return r.isFinite()?r.isZero()?new u(r):(e=u.precision,t=u.rounding,u.precision=e+Math.max(r.e,r.sd())+X,u.rounding=1,r=qa(u,jn(u,r)),u.precision=e,u.rounding=t,W(ct>2?r.neg():r,e,t,!0)):new u(NaN)};T.squareRoot=T.sqrt=function(){var e,t,r,u,n,i,f=this,h=f.d,l=f.e,v=f.s,o=f.constructor;if(v!==1||!h||!h[0])return new o(!v||v<0&&(!h||h[0])?NaN:h?f:1/0);for(G=!1,v=Math.sqrt(+f),v==0||v==1/0?(t=Oe(h),(t.length+l)%2==0&&(t+="0"),v=Math.sqrt(t),l=Re((l+1)/2)-(l<0||l%2),v==1/0?t="5e"+l:(t=v.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),u=new o(t)):u=new o(v.toString()),r=(l=o.precision)+3;;)if(i=u,u=i.plus(he(f,i,r+2,1)).times(.5),Oe(i.d).slice(0,r)===(t=Oe(u.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!n&&t=="4999"){if(!n&&(W(i,l+1,0),i.times(i).eq(f))){u=i;break}r+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(W(u,l+1,1),e=!u.times(u).eq(f));break}return G=!0,W(u,l,o.rounding,e)};T.tangent=T.tan=function(){var e,t,r=this,u=r.constructor;return r.isFinite()?r.isZero()?new u(r):(e=u.precision,t=u.rounding,u.precision=e+10,u.rounding=1,r=r.sin(),r.s=1,r=he(r,new u(1).minus(r.times(r)).sqrt(),e+10,0),u.precision=e,u.rounding=t,W(ct==2||ct==4?r.neg():r,e,t,!0)):new u(NaN)};T.times=T.mul=function(e){var t,r,u,n,i,f,h,l,v,o=this,a=o.constructor,c=o.d,d=(e=new a(e)).d;if(e.s*=o.s,!c||!c[0]||!d||!d[0])return new a(!e.s||c&&!c[0]&&!d||d&&!d[0]&&!c?NaN:!c||!d?e.s/0:e.s*0);for(r=Re(o.e/X)+Re(e.e/X),l=c.length,v=d.length,l<v&&(i=c,c=d,d=i,f=l,l=v,v=f),i=[],f=l+v,u=f;u--;)i.push(0);for(u=v;--u>=0;){for(t=0,n=l+u;n>u;)h=i[n]+d[u]*c[n-u-1]+t,i[n--]=h%nt|0,t=h/nt|0;i[n]=(i[n]+t)%nt|0}for(;!i[--f];)i.pop();return t?++r:i.shift(),e.d=i,e.e=cr(i,r),G?W(e,a.precision,a.rounding):e};T.toBinary=function(e,t){return Rr(this,2,e,t)};T.toDecimalPlaces=T.toDP=function(e,t){var r=this,u=r.constructor;return r=new u(r),e===void 0?r:(ke(e,0,gt),t===void 0?t=u.rounding:ke(t,0,8),W(r,e+r.e+1,t))};T.toExponential=function(e,t){var r,u=this,n=u.constructor;return e===void 0?r=it(u,!0):(ke(e,0,gt),t===void 0?t=n.rounding:ke(t,0,8),u=W(new n(u),e+1,t),r=it(u,!0,e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};T.toFixed=function(e,t){var r,u,n=this,i=n.constructor;return e===void 0?r=it(n):(ke(e,0,gt),t===void 0?t=i.rounding:ke(t,0,8),u=W(new i(n),e+n.e+1,t),r=it(u,!1,e+u.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};T.toFraction=function(e){var t,r,u,n,i,f,h,l,v,o,a,c,d=this,D=d.d,s=d.constructor;if(!D)return new s(d);if(v=r=new s(1),u=l=new s(0),t=new s(u),i=t.e=Xn(D)-d.e-1,f=i%X,t.d[0]=Be(10,f<0?X+f:f),e==null)e=i>0?t:v;else{if(h=new s(e),!h.isInt()||h.lt(v))throw Error(Dt+h);e=h.gt(t)?i>0?t:v:h}for(G=!1,h=new s(Oe(D)),o=s.precision,s.precision=i=D.length*X*2;a=he(h,t,0,1,1),n=r.plus(a.times(u)),n.cmp(e)!=1;)r=u,u=n,n=v,v=l.plus(a.times(n)),l=n,n=t,t=h.minus(a.times(n)),h=n;return n=he(e.minus(r),u,0,1,1),l=l.plus(n.times(v)),r=r.plus(n.times(u)),l.s=v.s=d.s,c=he(v,u,i,1).minus(d).abs().cmp(he(l,r,i,1).minus(d).abs())<1?[v,u]:[l,r],s.precision=o,G=!0,c};T.toHexadecimal=T.toHex=function(e,t){return Rr(this,16,e,t)};T.toNearest=function(e,t){var r=this,u=r.constructor;if(r=new u(r),e==null){if(!r.d)return r;e=new u(1),t=u.rounding}else{if(e=new u(e),t===void 0?t=u.rounding:ke(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(G=!1,r=he(r,e,0,t,1).times(e),G=!0,W(r)):(e.s=r.s,r=e),r};T.toNumber=function(){return+this};T.toOctal=function(e,t){return Rr(this,8,e,t)};T.toPower=T.pow=function(e){var t,r,u,n,i,f,h=this,l=h.constructor,v=+(e=new l(e));if(!h.d||!e.d||!h.d[0]||!e.d[0])return new l(Be(+h,v));if(h=new l(h),h.eq(1))return h;if(u=l.precision,i=l.rounding,e.eq(1))return W(h,u,i);if(t=Re(e.e/X),t>=e.d.length-1&&(r=v<0?-v:v)<=Pa)return n=Gn(l,h,r,u),e.s<0?new l(1).div(n):W(n,u,i);if(f=h.s,f<0){if(t<e.d.length-1)return new l(NaN);if(e.d[t]&1||(f=1),h.e==0&&h.d[0]==1&&h.d.length==1)return h.s=f,h}return r=Be(+h,v),t=r==0||!isFinite(r)?Re(v*(Math.log("0."+Oe(h.d))/Math.LN10+h.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?f/0:0):(G=!1,l.rounding=h.s=1,r=Math.min(12,(t+"").length),n=Nr(e.times(vt(h,u+r)),u),n.d&&(n=W(n,u+5,1),Vt(n.d,u,i)&&(t=u+10,n=W(Nr(e.times(vt(h,t+r)),t),t+5,1),+Oe(n.d).slice(u+1,u+15)+1==1e14&&(n=W(n,u+1,0)))),n.s=f,G=!0,l.rounding=i,W(n,u,i))};T.toPrecision=function(e,t){var r,u=this,n=u.constructor;return e===void 0?r=it(u,u.e<=n.toExpNeg||u.e>=n.toExpPos):(ke(e,1,gt),t===void 0?t=n.rounding:ke(t,0,8),u=W(new n(u),e,t),r=it(u,e<=u.e||u.e<=n.toExpNeg,e)),u.isNeg()&&!u.isZero()?"-"+r:r};T.toSignificantDigits=T.toSD=function(e,t){var r=this,u=r.constructor;return e===void 0?(e=u.precision,t=u.rounding):(ke(e,1,gt),t===void 0?t=u.rounding:ke(t,0,8)),W(new u(r),e,t)};T.toString=function(){var e=this,t=e.constructor,r=it(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};T.truncated=T.trunc=function(){return W(new this.constructor(this),this.e+1,1)};T.valueOf=T.toJSON=function(){var e=this,t=e.constructor,r=it(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Oe(e){var t,r,u,n=e.length-1,i="",f=e[0];if(n>0){for(i+=f,t=1;t<n;t++)u=e[t]+"",r=X-u.length,r&&(i+=dt(r)),i+=u;f=e[t],u=f+"",r=X-u.length,r&&(i+=dt(r))}else if(f===0)return"0";for(;f%10===0;)f/=10;return i+f}function ke(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Dt+e)}function Vt(e,t,r,u){var n,i,f,h;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=X,n=0):(n=Math.ceil((t+1)/X),t%=X),i=Be(10,X-t),h=e[n]%i|0,u==null?t<3?(t==0?h=h/100|0:t==1&&(h=h/10|0),f=r<4&&h==99999||r>3&&h==49999||h==5e4||h==0):f=(r<4&&h+1==i||r>3&&h+1==i/2)&&(e[n+1]/i/100|0)==Be(10,t-2)-1||(h==i/2||h==0)&&(e[n+1]/i/100|0)==0:t<4?(t==0?h=h/1e3|0:t==1?h=h/100|0:t==2&&(h=h/10|0),f=(u||r<4)&&h==9999||!u&&r>3&&h==4999):f=((u||r<4)&&h+1==i||!u&&r>3&&h+1==i/2)&&(e[n+1]/i/1e3|0)==Be(10,t-3)-1,f}function Gt(e,t,r){for(var u,n=[0],i,f=0,h=e.length;f<h;){for(i=n.length;i--;)n[i]*=t;for(n[0]+=Br.indexOf(e.charAt(f++)),u=0;u<n.length;u++)n[u]>r-1&&(n[u+1]===void 0&&(n[u+1]=0),n[u+1]+=n[u]/r|0,n[u]%=r)}return n.reverse()}function Ra(e,t){var r,u,n;if(t.isZero())return t;u=t.d.length,u<32?(r=Math.ceil(u/3),n=(1/lr(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=zt(e,1,t.times(n),new e(1));for(var i=r;i--;){var f=t.times(t);t=f.times(f).minus(f).times(8).plus(1)}return e.precision-=r,t}var he=function(){function e(u,n,i){var f,h=0,l=u.length;for(u=u.slice();l--;)f=u[l]*n+h,u[l]=f%i|0,h=f/i|0;return h&&u.unshift(h),u}function t(u,n,i,f){var h,l;if(i!=f)l=i>f?1:-1;else for(h=l=0;h<i;h++)if(u[h]!=n[h]){l=u[h]>n[h]?1:-1;break}return l}function r(u,n,i,f){for(var h=0;i--;)u[i]-=h,h=u[i]<n[i]?1:0,u[i]=h*f+u[i]-n[i];for(;!u[0]&&u.length>1;)u.shift()}return function(u,n,i,f,h,l){var v,o,a,c,d,D,s,p,m,F,g,C,E,w,B,A,b,S,N,R,Z=u.constructor,U=u.s==n.s?1:-1,V=u.d,z=n.d;if(!V||!V[0]||!z||!z[0])return new Z(!u.s||!n.s||(V?z&&V[0]==z[0]:!z)?NaN:V&&V[0]==0||!z?U*0:U/0);for(l?(d=1,o=u.e-n.e):(l=nt,d=X,o=Re(u.e/d)-Re(n.e/d)),N=z.length,b=V.length,m=new Z(U),F=m.d=[],a=0;z[a]==(V[a]||0);a++);if(z[a]>(V[a]||0)&&o--,i==null?(w=i=Z.precision,f=Z.rounding):h?w=i+(u.e-n.e)+1:w=i,w<0)F.push(1),D=!0;else{if(w=w/d+2|0,a=0,N==1){for(c=0,z=z[0],w++;(a<b||c)&&w--;a++)B=c*l+(V[a]||0),F[a]=B/z|0,c=B%z|0;D=c||a<b}else{for(c=l/(z[0]+1)|0,c>1&&(z=e(z,c,l),V=e(V,c,l),N=z.length,b=V.length),A=N,g=V.slice(0,N),C=g.length;C<N;)g[C++]=0;R=z.slice(),R.unshift(0),S=z[0],z[1]>=l/2&&++S;do c=0,v=t(z,g,N,C),v<0?(E=g[0],N!=C&&(E=E*l+(g[1]||0)),c=E/S|0,c>1?(c>=l&&(c=l-1),s=e(z,c,l),p=s.length,C=g.length,v=t(s,g,p,C),v==1&&(c--,r(s,N<p?R:z,p,l))):(c==0&&(v=c=1),s=z.slice()),p=s.length,p<C&&s.unshift(0),r(g,s,C,l),v==-1&&(C=g.length,v=t(z,g,N,C),v<1&&(c++,r(g,N<C?R:z,C,l))),C=g.length):v===0&&(c++,g=[0]),F[a++]=c,v&&g[0]?g[C++]=V[A]||0:(g=[V[A]],C=1);while((A++<b||g[0]!==void 0)&&w--);D=g[0]!==void 0}F[0]||F.shift()}if(d==1)m.e=o,Hn=D;else{for(a=1,c=F[0];c>=10;c/=10)a++;m.e=a+o*d-1,W(m,h?i+m.e+1:i,f,D)}return m}}();function W(e,t,r,u){var n,i,f,h,l,v,o,a,c,d=e.constructor;e:if(t!=null){if(a=e.d,!a)return e;for(n=1,h=a[0];h>=10;h/=10)n++;if(i=t-n,i<0)i+=X,f=t,o=a[c=0],l=o/Be(10,n-f-1)%10|0;else if(c=Math.ceil((i+1)/X),h=a.length,c>=h)if(u){for(;h++<=c;)a.push(0);o=l=0,n=1,i%=X,f=i-X+1}else break e;else{for(o=h=a[c],n=1;h>=10;h/=10)n++;i%=X,f=i-X+n,l=f<0?0:o/Be(10,n-f-1)%10|0}if(u=u||t<0||a[c+1]!==void 0||(f<0?o:o%Be(10,n-f-1)),v=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(i>0?f>0?o/Be(10,n-f):0:a[c-1])%10&1||r==(e.s<0?8:7)),t<1||!a[0])return a.length=0,v?(t-=e.e+1,a[0]=Be(10,(X-t%X)%X),e.e=-t||0):a[0]=e.e=0,e;if(i==0?(a.length=c,h=1,c--):(a.length=c+1,h=Be(10,X-i),a[c]=f>0?(o/Be(10,n-f)%Be(10,f)|0)*h:0),v)for(;;)if(c==0){for(i=1,f=a[0];f>=10;f/=10)i++;for(f=a[0]+=h,h=1;f>=10;f/=10)h++;i!=h&&(e.e++,a[0]==nt&&(a[0]=1));break}else{if(a[c]+=h,a[c]!=nt)break;a[c--]=0,h=1}for(i=a.length;a[--i]===0;)a.pop()}return G&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function it(e,t,r){if(!e.isFinite())return Qn(e);var u,n=e.e,i=Oe(e.d),f=i.length;return t?(r&&(u=r-f)>0?i=i.charAt(0)+"."+i.slice(1)+dt(u):f>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):n<0?(i="0."+dt(-n-1)+i,r&&(u=r-f)>0&&(i+=dt(u))):n>=f?(i+=dt(n+1-f),r&&(u=r-n-1)>0&&(i=i+"."+dt(u))):((u=n+1)<f&&(i=i.slice(0,u)+"."+i.slice(u)),r&&(u=r-f)>0&&(n+1===f&&(i+="."),i+=dt(u))),i}function cr(e,t){var r=e[0];for(t*=X;r>=10;r/=10)t++;return t}function ir(e,t,r){if(t>$a)throw G=!0,r&&(e.precision=r),Error(Wn);return W(new e(nr),t,1,!0)}function rt(e,t,r){if(t>Sr)throw Error(Wn);return W(new e(ur),t,r,!0)}function Xn(e){var t=e.length-1,r=t*X+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function dt(e){for(var t="";e--;)t+="0";return t}function Gn(e,t,r,u){var n,i=new e(1),f=Math.ceil(u/X+4);for(G=!1;;){if(r%2&&(i=i.times(t),rn(i.d,f)&&(n=!0)),r=Re(r/2),r===0){r=i.d.length-1,n&&i.d[r]===0&&++i.d[r];break}t=t.times(t),rn(t.d,f)}return G=!0,i}function tn(e){return e.d[e.d.length-1]&1}function Kn(e,t,r){for(var u,n=new e(t[0]),i=0;++i<t.length;)if(u=new e(t[i]),u.s)n[r](u)&&(n=u);else{n=u;break}return n}function Nr(e,t){var r,u,n,i,f,h,l,v=0,o=0,a=0,c=e.constructor,d=c.rounding,D=c.precision;if(!e.d||!e.d[0]||e.e>17)return new c(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(G=!1,l=D):l=t,h=new c(.03125);e.e>-2;)e=e.times(h),a+=5;for(u=Math.log(Be(2,a))/Math.LN10*2+5|0,l+=u,r=i=f=new c(1),c.precision=l;;){if(i=W(i.times(e),l,1),r=r.times(++o),h=f.plus(he(i,r,l,1)),Oe(h.d).slice(0,l)===Oe(f.d).slice(0,l)){for(n=a;n--;)f=W(f.times(f),l,1);if(t==null)if(v<3&&Vt(f.d,l-u,d,v))c.precision=l+=10,r=i=h=new c(1),o=0,v++;else return W(f,c.precision=D,d,G=!0);else return c.precision=D,f}f=h}}function vt(e,t){var r,u,n,i,f,h,l,v,o,a,c,d=1,D=10,s=e,p=s.d,m=s.constructor,F=m.rounding,g=m.precision;if(s.s<0||!p||!p[0]||!s.e&&p[0]==1&&p.length==1)return new m(p&&!p[0]?-1/0:s.s!=1?NaN:p?0:s);if(t==null?(G=!1,o=g):o=t,m.precision=o+=D,r=Oe(p),u=r.charAt(0),Math.abs(i=s.e)<15e14){for(;u<7&&u!=1||u==1&&r.charAt(1)>3;)s=s.times(e),r=Oe(s.d),u=r.charAt(0),d++;i=s.e,u>1?(s=new m("0."+r),i++):s=new m(u+"."+r.slice(1))}else return v=ir(m,o+2,g).times(i+""),s=vt(new m(u+"."+r.slice(1)),o-D).plus(v),m.precision=g,t==null?W(s,g,F,G=!0):s;for(a=s,l=f=s=he(s.minus(1),s.plus(1),o,1),c=W(s.times(s),o,1),n=3;;){if(f=W(f.times(c),o,1),v=l.plus(he(f,new m(n),o,1)),Oe(v.d).slice(0,o)===Oe(l.d).slice(0,o))if(l=l.times(2),i!==0&&(l=l.plus(ir(m,o+2,g).times(i+""))),l=he(l,new m(d),o,1),t==null)if(Vt(l.d,o-D,F,h))m.precision=o+=D,v=f=s=he(a.minus(1),a.plus(1),o,1),c=W(s.times(s),o,1),n=h=1;else return W(l,m.precision=g,F,G=!0);else return m.precision=g,l;l=v,n+=2}}function Qn(e){return String(e.s*e.s/0)}function xr(e,t){var r,u,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(u=t.search(/e/i))>0?(r<0&&(r=u),r+=+t.slice(u+1),t=t.substring(0,u)):r<0&&(r=t.length),u=0;t.charCodeAt(u)===48;u++);for(n=t.length;t.charCodeAt(n-1)===48;--n);if(t=t.slice(u,n),t){if(n-=u,e.e=r=r-u-1,e.d=[],u=(r+1)%X,r<0&&(u+=X),u<n){for(u&&e.d.push(+t.slice(0,u)),n-=X;u<n;)e.d.push(+t.slice(u,u+=X));t=t.slice(u),u=X-t.length}else u-=n;for(;u--;)t+="0";e.d.push(+t),G&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function La(e,t){var r,u,n,i,f,h,l,v,o;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Jn.test(t))return xr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(za.test(t))r=16,t=t.toLowerCase();else if(Ia.test(t))r=2;else if(Oa.test(t))r=8;else throw Error(Dt+t);for(i=t.search(/p/i),i>0?(l=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),f=i>=0,u=e.constructor,f&&(t=t.replace(".",""),h=t.length,i=h-i,n=Gn(u,new u(r),i,i*2)),v=Gt(t,r,nt),o=v.length-1,i=o;v[i]===0;--i)v.pop();return i<0?new u(e.s*0):(e.e=cr(v,o),e.d=v,G=!1,f&&(e=he(e,n,h*4)),l&&(e=e.times(Math.abs(l)<54?Be(2,l):Ot.pow(2,l))),G=!0,e)}function qa(e,t){var r,u=t.d.length;if(u<3)return t.isZero()?t:zt(e,2,t,t);r=1.4*Math.sqrt(u),r=r>16?16:r|0,t=t.times(1/lr(5,r)),t=zt(e,2,t,t);for(var n,i=new e(5),f=new e(16),h=new e(20);r--;)n=t.times(t),t=t.times(i.plus(n.times(f.times(n).minus(h))));return t}function zt(e,t,r,u,n){var i,f,h,l,v=e.precision,o=Math.ceil(v/X);for(G=!1,l=r.times(r),h=new e(u);;){if(f=he(h.times(l),new e(t++*t++),v,1),h=n?u.plus(f):u.minus(f),u=he(f.times(l),new e(t++*t++),v,1),f=h.plus(u),f.d[o]!==void 0){for(i=o;f.d[i]===h.d[i]&&i--;);if(i==-1)break}i=h,h=u,u=f,f=i}return G=!0,f.d.length=o+1,f}function lr(e,t){for(var r=e;--t;)r*=e;return r}function jn(e,t){var r,u=t.s<0,n=rt(e,e.precision,1),i=n.times(.5);if(t=t.abs(),t.lte(i))return ct=u?4:1,t;if(r=t.divToInt(n),r.isZero())ct=u?3:2;else{if(t=t.minus(r.times(n)),t.lte(i))return ct=tn(r)?u?2:3:u?4:1,t;ct=tn(r)?u?1:4:u?3:2}return t.minus(n).abs()}function Rr(e,t,r,u){var n,i,f,h,l,v,o,a,c,d=e.constructor,D=r!==void 0;if(D?(ke(r,1,gt),u===void 0?u=d.rounding:ke(u,0,8)):(r=d.precision,u=d.rounding),!e.isFinite())o=Qn(e);else{for(o=it(e),f=o.indexOf("."),D?(n=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):n=t,f>=0&&(o=o.replace(".",""),c=new d(1),c.e=o.length-f,c.d=Gt(it(c),10,n),c.e=c.d.length),a=Gt(o,10,n),i=l=a.length;a[--l]==0;)a.pop();if(!a[0])o=D?"0p+0":"0";else{if(f<0?i--:(e=new d(e),e.d=a,e.e=i,e=he(e,c,r,u,0,n),a=e.d,i=e.e,v=Hn),f=a[r],h=n/2,v=v||a[r+1]!==void 0,v=u<4?(f!==void 0||v)&&(u===0||u===(e.s<0?3:2)):f>h||f===h&&(u===4||v||u===6&&a[r-1]&1||u===(e.s<0?8:7)),a.length=r,v)for(;++a[--r]>n-1;)a[r]=0,r||(++i,a.unshift(1));for(l=a.length;!a[l-1];--l);for(f=0,o="";f<l;f++)o+=Br.charAt(a[f]);if(D){if(l>1)if(t==16||t==8){for(f=t==16?4:3,--l;l%f;l++)o+="0";for(a=Gt(o,n,t),l=a.length;!a[l-1];--l);for(f=1,o="1.";f<l;f++)o+=Br.charAt(a[f])}else o=o.charAt(0)+"."+o.slice(1);o=o+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(++i>l)for(i-=l;i--;)o+="0";else i<l&&(o=o.slice(0,i)+"."+o.slice(i))}o=(t==16?"0x":t==2?"0b":t==8?"0o":"")+o}return e.s<0?"-"+o:o}function rn(e,t){if(e.length>t)return e.length=t,!0}function Ua(e){return new this(e).abs()}function Va(e){return new this(e).acos()}function Za(e){return new this(e).acosh()}function Ha(e,t){return new this(e).plus(t)}function Wa(e){return new this(e).asin()}function ka(e){return new this(e).asinh()}function Ya(e){return new this(e).atan()}function Ja(e){return new this(e).atanh()}function Xa(e,t){e=new this(e),t=new this(t);var r,u=this.precision,n=this.rounding,i=u+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=rt(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?rt(this,u,n):new this(0),r.s=e.s):!e.d||t.isZero()?(r=rt(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(he(e,t,i,1)),t=rt(this,i,1),this.precision=u,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(he(e,t,i,1)),r}function Ga(e){return new this(e).cbrt()}function Ka(e){return W(e=new this(e),e.e+1,2)}function Qa(e,t,r){return new this(e).clamp(t,r)}function ja(e){if(!e||typeof e!="object")throw Error(fr+"Object expected");var t,r,u,n=e.defaults===!0,i=["precision",1,gt,"rounding",0,8,"toExpNeg",-St,0,"toExpPos",0,St,"maxE",0,St,"minE",-St,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],n&&(this[r]=Mr[r]),(u=e[r])!==void 0)if(Re(u)===u&&u>=i[t+1]&&u<=i[t+2])this[r]=u;else throw Error(Dt+r+": "+u);if(r="crypto",n&&(this[r]=Mr[r]),(u=e[r])!==void 0)if(u===!0||u===!1||u===0||u===1)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(kn);else this[r]=!1;else throw Error(Dt+r+": "+u);return this}function eo(e){return new this(e).cos()}function to(e){return new this(e).cosh()}function eu(e){var t,r,u;function n(i){var f,h,l,v=this;if(!(v instanceof n))return new n(i);if(v.constructor=n,nn(i)){v.s=i.s,G?!i.d||i.e>n.maxE?(v.e=NaN,v.d=null):i.e<n.minE?(v.e=0,v.d=[0]):(v.e=i.e,v.d=i.d.slice()):(v.e=i.e,v.d=i.d?i.d.slice():i.d);return}if(l=typeof i,l==="number"){if(i===0){v.s=1/i<0?-1:1,v.e=0,v.d=[0];return}if(i<0?(i=-i,v.s=-1):v.s=1,i===~~i&&i<1e7){for(f=0,h=i;h>=10;h/=10)f++;G?f>n.maxE?(v.e=NaN,v.d=null):f<n.minE?(v.e=0,v.d=[0]):(v.e=f,v.d=[i]):(v.e=f,v.d=[i]);return}else if(i*0!==0){i||(v.s=NaN),v.e=NaN,v.d=null;return}return xr(v,i.toString())}else if(l!=="string")throw Error(Dt+i);return(h=i.charCodeAt(0))===45?(i=i.slice(1),v.s=-1):(h===43&&(i=i.slice(1)),v.s=1),Jn.test(i)?xr(v,i):La(v,i)}if(n.prototype=T,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=ja,n.clone=eu,n.isDecimal=nn,n.abs=Ua,n.acos=Va,n.acosh=Za,n.add=Ha,n.asin=Wa,n.asinh=ka,n.atan=Ya,n.atanh=Ja,n.atan2=Xa,n.cbrt=Ga,n.ceil=Ka,n.clamp=Qa,n.cos=eo,n.cosh=to,n.div=ro,n.exp=no,n.floor=uo,n.hypot=io,n.ln=ao,n.log=oo,n.log10=fo,n.log2=so,n.max=co,n.min=lo,n.mod=ho,n.mul=vo,n.pow=po,n.random=Do,n.round=mo,n.sign=go,n.sin=wo,n.sinh=yo,n.sqrt=Fo,n.sub=Eo,n.sum=Ao,n.tan=Co,n.tanh=_o,n.trunc=bo,e===void 0&&(e={}),e&&e.defaults!==!0)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<u.length;)e.hasOwnProperty(r=u[t++])||(e[r]=this[r]);return n.config(e),n}function ro(e,t){return new this(e).div(t)}function no(e){return new this(e).exp()}function uo(e){return W(e=new this(e),e.e+1,3)}function io(){var e,t,r=new this(0);for(G=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return G=!0,new this(1/0);r=t}return G=!0,r.sqrt()}function nn(e){return e instanceof Ot||e&&e.toStringTag===Yn||!1}function ao(e){return new this(e).ln()}function oo(e,t){return new this(e).log(t)}function so(e){return new this(e).log(2)}function fo(e){return new this(e).log(10)}function co(){return Kn(this,arguments,"lt")}function lo(){return Kn(this,arguments,"gt")}function ho(e,t){return new this(e).mod(t)}function vo(e,t){return new this(e).mul(t)}function po(e,t){return new this(e).pow(t)}function Do(e){var t,r,u,n,i=0,f=new this(1),h=[];if(e===void 0?e=this.precision:ke(e,1,gt),u=Math.ceil(e/X),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(u));i<u;)n=t[i],n>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:h[i++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(u*=4);i<u;)n=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(t,i):(h.push(n%1e7),i+=4);i=u/4}else throw Error(kn);else for(;i<u;)h[i++]=Math.random()*1e7|0;for(u=h[--i],e%=X,u&&e&&(n=Be(10,X-e),h[i]=(u/n|0)*n);h[i]===0;i--)h.pop();if(i<0)r=0,h=[0];else{for(r=-1;h[0]===0;r-=X)h.shift();for(u=1,n=h[0];n>=10;n/=10)u++;u<X&&(r-=X-u)}return f.e=r,f.d=h,f}function mo(e){return W(e=new this(e),e.e+1,this.rounding)}function go(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function wo(e){return new this(e).sin()}function yo(e){return new this(e).sinh()}function Fo(e){return new this(e).sqrt()}function Eo(e,t){return new this(e).sub(t)}function Ao(){var e=0,t=arguments,r=new this(t[e]);for(G=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return G=!0,W(r,this.precision,this.rounding)}function Co(e){return new this(e).tan()}function _o(e){return new this(e).tanh()}function bo(e){return W(e=new this(e),e.e+1,1)}T[Symbol.for("nodejs.util.inspect.custom")]=T.toString;T[Symbol.toStringTag]="Decimal";var Ot=T.constructor=eu(Mr);nr=new Ot(nr);ur=new Ot(ur);var Bo="BigNumber",Mo=["?on","config"],So=Q(Bo,Mo,e=>{var{on:t,config:r}=e,u=Ot.clone({precision:r.precision,modulo:Ot.EUCLID});return u.prototype=Object.create(u.prototype),u.prototype.type="BigNumber",u.prototype.isBigNumber=!0,u.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},u.fromJSON=function(n){return new u(n.value)},t&&t("config",function(n,i){n.precision!==i.precision&&u.config({precision:n.precision})}),u},{isClass:!0}),tu={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var u=Math.cosh||function(a){return Math.abs(a)<1e-9?1-a:(Math.exp(a)+Math.exp(-a))*.5},n=Math.sinh||function(a){return Math.abs(a)<1e-9?a:(Math.exp(a)-Math.exp(-a))*.5},i=function(a){var c=Math.PI/4;if(-c>a||a>c)return Math.cos(a)-1;var d=a*a;return d*(d*(d*(d*(d*(d*(d*(d/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},f=function(a,c){var d=Math.abs(a),D=Math.abs(c);return d<3e3&&D<3e3?Math.sqrt(d*d+D*D):(d<D?(d=D,D=a/c):D=c/a,d*Math.sqrt(1+D*D))},h=function(){throw SyntaxError("Invalid Param")};function l(a,c){var d=Math.abs(a),D=Math.abs(c);return a===0?Math.log(D):c===0?Math.log(d):d<3e3&&D<3e3?Math.log(a*a+c*c)*.5:(a=a/2,c=c/2,.5*Math.log(a*a+c*c)+Math.LN2)}var v=function(a,c){var d={re:0,im:0};if(a==null)d.re=d.im=0;else if(c!==void 0)d.re=a,d.im=c;else switch(typeof a){case"object":if("im"in a&&"re"in a)d.re=a.re,d.im=a.im;else if("abs"in a&&"arg"in a){if(!Number.isFinite(a.abs)&&Number.isFinite(a.arg))return o.INFINITY;d.re=a.abs*Math.cos(a.arg),d.im=a.abs*Math.sin(a.arg)}else if("r"in a&&"phi"in a){if(!Number.isFinite(a.r)&&Number.isFinite(a.phi))return o.INFINITY;d.re=a.r*Math.cos(a.phi),d.im=a.r*Math.sin(a.phi)}else a.length===2?(d.re=a[0],d.im=a[1]):h();break;case"string":d.im=d.re=0;var D=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),s=1,p=0;D===null&&h();for(var m=0;m<D.length;m++){var F=D[m];F===" "||F==="	"||F===`
`||(F==="+"?s++:F==="-"?p++:F==="i"||F==="I"?(s+p===0&&h(),D[m+1]!==" "&&!isNaN(D[m+1])?(d.im+=parseFloat((p%2?"-":"")+D[m+1]),m++):d.im+=parseFloat((p%2?"-":"")+"1"),s=p=0):((s+p===0||isNaN(F))&&h(),D[m+1]==="i"||D[m+1]==="I"?(d.im+=parseFloat((p%2?"-":"")+F),m++):d.re+=parseFloat((p%2?"-":"")+F),s=p=0))}s+p>0&&h();break;case"number":d.im=0,d.re=a;break;default:h()}return isNaN(d.re)||isNaN(d.im),d};function o(a,c){if(!(this instanceof o))return new o(a,c);var d=v(a,c);this.re=d.re,this.im=d.im}o.prototype={re:0,im:0,sign:function(){var a=this.abs();return new o(this.re/a,this.im/a)},add:function(a,c){var d=new o(a,c);return this.isInfinite()&&d.isInfinite()?o.NAN:this.isInfinite()||d.isInfinite()?o.INFINITY:new o(this.re+d.re,this.im+d.im)},sub:function(a,c){var d=new o(a,c);return this.isInfinite()&&d.isInfinite()?o.NAN:this.isInfinite()||d.isInfinite()?o.INFINITY:new o(this.re-d.re,this.im-d.im)},mul:function(a,c){var d=new o(a,c);return this.isInfinite()&&d.isZero()||this.isZero()&&d.isInfinite()?o.NAN:this.isInfinite()||d.isInfinite()?o.INFINITY:d.im===0&&this.im===0?new o(this.re*d.re,0):new o(this.re*d.re-this.im*d.im,this.re*d.im+this.im*d.re)},div:function(a,c){var d=new o(a,c);if(this.isZero()&&d.isZero()||this.isInfinite()&&d.isInfinite())return o.NAN;if(this.isInfinite()||d.isZero())return o.INFINITY;if(this.isZero()||d.isInfinite())return o.ZERO;a=this.re,c=this.im;var D=d.re,s=d.im,p,m;return s===0?new o(a/D,c/D):Math.abs(D)<Math.abs(s)?(m=D/s,p=D*m+s,new o((a*m+c)/p,(c*m-a)/p)):(m=s/D,p=s*m+D,new o((a+c*m)/p,(c-a*m)/p))},pow:function(a,c){var d=new o(a,c);if(a=this.re,c=this.im,d.isZero())return o.ONE;if(d.im===0){if(c===0&&a>0)return new o(Math.pow(a,d.re),0);if(a===0)switch((d.re%4+4)%4){case 0:return new o(Math.pow(c,d.re),0);case 1:return new o(0,Math.pow(c,d.re));case 2:return new o(-Math.pow(c,d.re),0);case 3:return new o(0,-Math.pow(c,d.re))}}if(a===0&&c===0&&d.re>0&&d.im>=0)return o.ZERO;var D=Math.atan2(c,a),s=l(a,c);return a=Math.exp(d.re*s-d.im*D),c=d.im*s+d.re*D,new o(a*Math.cos(c),a*Math.sin(c))},sqrt:function(){var a=this.re,c=this.im,d=this.abs(),D,s;if(a>=0){if(c===0)return new o(Math.sqrt(a),0);D=.5*Math.sqrt(2*(d+a))}else D=Math.abs(c)/Math.sqrt(2*(d-a));return a<=0?s=.5*Math.sqrt(2*(d-a)):s=Math.abs(c)/Math.sqrt(2*(d+a)),new o(D,c<0?-s:s)},exp:function(){var a=Math.exp(this.re);return this.im,new o(a*Math.cos(this.im),a*Math.sin(this.im))},expm1:function(){var a=this.re,c=this.im;return new o(Math.expm1(a)*Math.cos(c)+i(c),Math.exp(a)*Math.sin(c))},log:function(){var a=this.re,c=this.im;return new o(l(a,c),Math.atan2(c,a))},abs:function(){return f(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var a=this.re,c=this.im;return new o(Math.sin(a)*u(c),Math.cos(a)*n(c))},cos:function(){var a=this.re,c=this.im;return new o(Math.cos(a)*u(c),-Math.sin(a)*n(c))},tan:function(){var a=2*this.re,c=2*this.im,d=Math.cos(a)+u(c);return new o(Math.sin(a)/d,n(c)/d)},cot:function(){var a=2*this.re,c=2*this.im,d=Math.cos(a)-u(c);return new o(-Math.sin(a)/d,n(c)/d)},sec:function(){var a=this.re,c=this.im,d=.5*u(2*c)+.5*Math.cos(2*a);return new o(Math.cos(a)*u(c)/d,Math.sin(a)*n(c)/d)},csc:function(){var a=this.re,c=this.im,d=.5*u(2*c)-.5*Math.cos(2*a);return new o(Math.sin(a)*u(c)/d,-Math.cos(a)*n(c)/d)},asin:function(){var a=this.re,c=this.im,d=new o(c*c-a*a+1,-2*a*c).sqrt(),D=new o(d.re-c,d.im+a).log();return new o(D.im,-D.re)},acos:function(){var a=this.re,c=this.im,d=new o(c*c-a*a+1,-2*a*c).sqrt(),D=new o(d.re-c,d.im+a).log();return new o(Math.PI/2-D.im,D.re)},atan:function(){var a=this.re,c=this.im;if(a===0){if(c===1)return new o(0,1/0);if(c===-1)return new o(0,-1/0)}var d=a*a+(1-c)*(1-c),D=new o((1-c*c-a*a)/d,-2*a/d).log();return new o(-.5*D.im,.5*D.re)},acot:function(){var a=this.re,c=this.im;if(c===0)return new o(Math.atan2(1,a),0);var d=a*a+c*c;return d!==0?new o(a/d,-c/d).atan():new o(a!==0?a/0:0,c!==0?-c/0:0).atan()},asec:function(){var a=this.re,c=this.im;if(a===0&&c===0)return new o(0,1/0);var d=a*a+c*c;return d!==0?new o(a/d,-c/d).acos():new o(a!==0?a/0:0,c!==0?-c/0:0).acos()},acsc:function(){var a=this.re,c=this.im;if(a===0&&c===0)return new o(Math.PI/2,1/0);var d=a*a+c*c;return d!==0?new o(a/d,-c/d).asin():new o(a!==0?a/0:0,c!==0?-c/0:0).asin()},sinh:function(){var a=this.re,c=this.im;return new o(n(a)*Math.cos(c),u(a)*Math.sin(c))},cosh:function(){var a=this.re,c=this.im;return new o(u(a)*Math.cos(c),n(a)*Math.sin(c))},tanh:function(){var a=2*this.re,c=2*this.im,d=u(a)+Math.cos(c);return new o(n(a)/d,Math.sin(c)/d)},coth:function(){var a=2*this.re,c=2*this.im,d=u(a)-Math.cos(c);return new o(n(a)/d,-Math.sin(c)/d)},csch:function(){var a=this.re,c=this.im,d=Math.cos(2*c)-u(2*a);return new o(-2*n(a)*Math.cos(c)/d,2*u(a)*Math.sin(c)/d)},sech:function(){var a=this.re,c=this.im,d=Math.cos(2*c)+u(2*a);return new o(2*u(a)*Math.cos(c)/d,-2*n(a)*Math.sin(c)/d)},asinh:function(){var a=this.im;this.im=-this.re,this.re=a;var c=this.asin();return this.re=-this.im,this.im=a,a=c.re,c.re=-c.im,c.im=a,c},acosh:function(){var a=this.acos();if(a.im<=0){var c=a.re;a.re=-a.im,a.im=c}else{var c=a.im;a.im=-a.re,a.re=c}return a},atanh:function(){var a=this.re,c=this.im,d=a>1&&c===0,D=1-a,s=1+a,p=D*D+c*c,m=p!==0?new o((s*D-c*c)/p,(c*D+s*c)/p):new o(a!==-1?a/0:0,c!==0?c/0:0),F=m.re;return m.re=l(m.re,m.im)/2,m.im=Math.atan2(m.im,F)/2,d&&(m.im=-m.im),m},acoth:function(){var a=this.re,c=this.im;if(a===0&&c===0)return new o(0,Math.PI/2);var d=a*a+c*c;return d!==0?new o(a/d,-c/d).atanh():new o(a!==0?a/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var a=this.re,c=this.im;if(c===0)return new o(a!==0?Math.log(a+Math.sqrt(a*a+1)):1/0,0);var d=a*a+c*c;return d!==0?new o(a/d,-c/d).asinh():new o(a!==0?a/0:0,c!==0?-c/0:0).asinh()},asech:function(){var a=this.re,c=this.im;if(this.isZero())return o.INFINITY;var d=a*a+c*c;return d!==0?new o(a/d,-c/d).acosh():new o(a!==0?a/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var a=this.re,c=this.im,d=a*a+c*c;return new o(a/d,-c/d)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(a){return a=Math.pow(10,a||0),new o(Math.ceil(this.re*a)/a,Math.ceil(this.im*a)/a)},floor:function(a){return a=Math.pow(10,a||0),new o(Math.floor(this.re*a)/a,Math.floor(this.im*a)/a)},round:function(a){return a=Math.pow(10,a||0),new o(Math.round(this.re*a)/a,Math.round(this.im*a)/a)},equals:function(a,c){var d=new o(a,c);return Math.abs(d.re-this.re)<=o.EPSILON&&Math.abs(d.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var a=this.re,c=this.im,d="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(a)<o.EPSILON&&(a=0),Math.abs(c)<o.EPSILON&&(c=0),c===0?d+a:(a!==0?(d+=a,d+=" ",c<0?(c=-c,d+="-"):d+="+",d+=" "):c<0&&(c=-c,d+="-"),c!==1&&(d+=c),d+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,e.exports=o})()})(tu);var No=tu.exports;const ze=En(No);var xo="Complex",To=[],Io=Q(xo,To,()=>(Object.defineProperty(ze,"name",{value:"Complex"}),ze.prototype.constructor=ze,ze.prototype.type="Complex",ze.prototype.isComplex=!0,ze.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ze.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ze.prototype.format=function(e){var t="",r=this.im,u=this.re,n=Cr(this.re,e),i=Cr(this.im,e),f=me(e)?e:e?e.precision:null;if(f!==null){var h=Math.pow(10,-f);Math.abs(u/r)<h&&(u=0),Math.abs(r/u)<h&&(r=0)}return r===0?t=n:u===0?r===1?t="i":r===-1?t="-i":t=i+"i":r<0?r===-1?t=n+" - i":t=n+" - "+i.substring(1)+"i":r===1?t=n+" + i":t=n+" + "+i+"i",t},ze.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return ze(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],u=arguments[1];if(me(r)){if(Tn(u)&&u.hasBase("ANGLE")&&(u=u.toNumber("rad")),me(u))return new ze({r,phi:u});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ze.prototype.valueOf=ze.prototype.toString,ze.fromJSON=function(e){return new ze(e)},ze.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},ze),{isClass:!0}),ru={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var u=2e3,n={s:1,n:0,d:1};function i(D,s){if(isNaN(D=parseInt(D,10)))throw d.InvalidParameter;return D*s}function f(D,s){if(s===0)throw d.DivisionByZero;var p=Object.create(d.prototype);p.s=D<0?-1:1,D=D<0?-D:D;var m=c(D,s);return p.n=D/m,p.d=s/m,p}function h(D){for(var s={},p=D,m=2,F=4;F<=p;){for(;p%m===0;)p/=m,s[m]=(s[m]||0)+1;F+=1+2*m++}return p!==D?p>1&&(s[p]=(s[p]||0)+1):s[D]=(s[D]||0)+1,s}var l=function(D,s){var p=0,m=1,F=1,g=0,C=0,E=0,w=1,B=1,A=0,b=1,S=1,N=1,R=1e7,Z;if(D!=null)if(s!==void 0){if(p=D,m=s,F=p*m,p%1!==0||m%1!==0)throw d.NonIntegerParameter}else switch(typeof D){case"object":{if("d"in D&&"n"in D)p=D.n,m=D.d,"s"in D&&(p*=D.s);else if(0 in D)p=D[0],1 in D&&(m=D[1]);else throw d.InvalidParameter;F=p*m;break}case"number":{if(D<0&&(F=D,D=-D),D%1===0)p=D;else if(D>0){for(D>=1&&(B=Math.pow(10,Math.floor(1+Math.log(D)/Math.LN10)),D/=B);b<=R&&N<=R;)if(Z=(A+S)/(b+N),D===Z){b+N<=R?(p=A+S,m=b+N):N>b?(p=S,m=N):(p=A,m=b);break}else D>Z?(A+=S,b+=N):(S+=A,N+=b),b>R?(p=S,m=N):(p=A,m=b);p*=B}else(isNaN(D)||isNaN(s))&&(m=p=NaN);break}case"string":{if(b=D.match(/\d+|./g),b===null)throw d.InvalidParameter;if(b[A]==="-"?(F=-1,A++):b[A]==="+"&&A++,b.length===A+1?C=i(b[A++],F):b[A+1]==="."||b[A]==="."?(b[A]!=="."&&(g=i(b[A++],F)),A++,(A+1===b.length||b[A+1]==="("&&b[A+3]===")"||b[A+1]==="'"&&b[A+3]==="'")&&(C=i(b[A],F),w=Math.pow(10,b[A].length),A++),(b[A]==="("&&b[A+2]===")"||b[A]==="'"&&b[A+2]==="'")&&(E=i(b[A+1],F),B=Math.pow(10,b[A+1].length)-1,A+=3)):b[A+1]==="/"||b[A+1]===":"?(C=i(b[A],F),w=i(b[A+2],1),A+=3):b[A+3]==="/"&&b[A+1]===" "&&(g=i(b[A],F),C=i(b[A+2],F),w=i(b[A+4],1),A+=5),b.length<=A){m=w*B,F=p=E+m*g+B*C;break}}default:throw d.InvalidParameter}if(m===0)throw d.DivisionByZero;n.s=F<0?-1:1,n.n=Math.abs(p),n.d=Math.abs(m)};function v(D,s,p){for(var m=1;s>0;D=D*D%p,s>>=1)s&1&&(m=m*D%p);return m}function o(D,s){for(;s%2===0;s/=2);for(;s%5===0;s/=5);if(s===1)return 0;for(var p=10%s,m=1;p!==1;m++)if(p=p*10%s,m>u)return 0;return m}function a(D,s,p){for(var m=1,F=v(10,p,s),g=0;g<300;g++){if(m===F)return g;m=m*10%s,F=F*10%s}return 0}function c(D,s){if(!D)return s;if(!s)return D;for(;;){if(D%=s,!D)return s;if(s%=D,!s)return D}}function d(D,s){if(l(D,s),this instanceof d)D=c(n.d,n.n),this.s=n.s,this.n=n.n/D,this.d=n.d/D;else return f(n.s*n.n,n.d)}d.DivisionByZero=new Error("Division by Zero"),d.InvalidParameter=new Error("Invalid argument"),d.NonIntegerParameter=new Error("Parameters must be integer"),d.prototype={s:1,n:0,d:1,abs:function(){return f(this.n,this.d)},neg:function(){return f(-this.s*this.n,this.d)},add:function(D,s){return l(D,s),f(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(D,s){return l(D,s),f(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(D,s){return l(D,s),f(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(D,s){return l(D,s),f(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return f(this.s*this.n,this.d)},mod:function(D,s){if(isNaN(this.n)||isNaN(this.d))return new d(NaN);if(D===void 0)return f(this.s*this.n%this.d,1);if(l(D,s),n.n===0&&this.d===0)throw d.DivisionByZero;return f(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(D,s){return l(D,s),f(c(n.n,this.n)*c(n.d,this.d),n.d*this.d)},lcm:function(D,s){return l(D,s),n.n===0&&this.n===0?f(0,1):f(n.n*this.n,c(n.n,this.n)*c(n.d,this.d))},ceil:function(D){return D=Math.pow(10,D||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):f(Math.ceil(D*this.s*this.n/this.d),D)},floor:function(D){return D=Math.pow(10,D||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):f(Math.floor(D*this.s*this.n/this.d),D)},round:function(D){return D=Math.pow(10,D||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):f(Math.round(D*this.s*this.n/this.d),D)},inverse:function(){return f(this.s*this.d,this.n)},pow:function(D,s){if(l(D,s),n.d===1)return n.s<0?f(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):f(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var p=h(this.n),m=h(this.d),F=1,g=1;for(var C in p)if(C!=="1"){if(C==="0"){F=0;break}if(p[C]*=n.n,p[C]%n.d===0)p[C]/=n.d;else return null;F*=Math.pow(C,p[C])}for(var C in m)if(C!=="1"){if(m[C]*=n.n,m[C]%n.d===0)m[C]/=n.d;else return null;g*=Math.pow(C,m[C])}return n.s<0?f(g,F):f(F,g)},equals:function(D,s){return l(D,s),this.s*this.n*n.d===n.s*n.n*this.d},compare:function(D,s){l(D,s);var p=this.s*this.n*n.d-n.s*n.n*this.d;return(0<p)-(p<0)},simplify:function(D){if(isNaN(this.n)||isNaN(this.d))return this;D=D||.001;for(var s=this.abs(),p=s.toContinued(),m=1;m<p.length;m++){for(var F=f(p[m-1],1),g=m-2;g>=0;g--)F=F.inverse().add(p[g]);if(F.sub(s).abs().valueOf()<D)return F.mul(this.s)}return this},divisible:function(D,s){return l(D,s),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(D){var s,p="",m=this.n,F=this.d;return this.s<0&&(p+="-"),F===1?p+=m:(D&&(s=Math.floor(m/F))>0&&(p+=s,p+=" ",m%=F),p+=m,p+="/",p+=F),p},toLatex:function(D){var s,p="",m=this.n,F=this.d;return this.s<0&&(p+="-"),F===1?p+=m:(D&&(s=Math.floor(m/F))>0&&(p+=s,m%=F),p+="\\frac{",p+=m,p+="}{",p+=F,p+="}"),p},toContinued:function(){var D,s=this.n,p=this.d,m=[];if(isNaN(s)||isNaN(p))return m;do m.push(Math.floor(s/p)),D=s%p,s=p,p=D;while(s!==1);return m},toString:function(D){var s=this.n,p=this.d;if(isNaN(s)||isNaN(p))return"NaN";D=D||15;var m=o(s,p),F=a(s,p,m),g=this.s<0?"-":"";if(g+=s/p|0,s%=p,s*=10,s&&(g+="."),m){for(var C=F;C--;)g+=s/p|0,s%=p,s*=10;g+="(";for(var C=m;C--;)g+=s/p|0,s%=p,s*=10;g+=")"}else for(var C=D;s&&C--;)g+=s/p|0,s%=p,s*=10;return g}},Object.defineProperty(d,"__esModule",{value:!0}),d.default=d,d.Fraction=d,e.exports=d})()})(ru);var zo=ru.exports;const st=En(zo);var Oo="Fraction",Po=[],$o=Q(Oo,Po,()=>(Object.defineProperty(st,"name",{value:"Fraction"}),st.prototype.constructor=st,st.prototype.type="Fraction",st.prototype.isFraction=!0,st.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},st.fromJSON=function(e){return new st(e)},st),{isClass:!0}),Ro="Matrix",Lo=[],qo=Q(Ro,Lo,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,u){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,u){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function nu(e){return Object.keys(e.signatures||{}).reduce(function(t,r){var u=(r.match(/,/g)||[]).length+1;return Math.max(t,u)},-1)}var Uo="DenseMatrix",Vo=["Matrix"],Zo=Q(Uo,Vo,e=>{var{Matrix:t}=e;function r(o,a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!ut(a))throw new Error("Invalid datatype: "+a);if(Me(o))o.type==="DenseMatrix"?(this._data=we(o._data),this._size=we(o._size),this._datatype=a||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=a||o._datatype);else if(o&&pe(o.data)&&pe(o.size))this._data=o.data,this._size=o.size,en(this._data,this._size),this._datatype=a||o.datatype;else if(pe(o))this._data=v(o),this._size=lt(this._data),en(this._data,this._size),this._datatype=a;else{if(o)throw new TypeError("Unsupported type of data ("+xt(o)+")");this._data=[],this._size=[0],this._datatype=a}}r.prototype=new t,r.prototype.createDenseMatrix=function(o,a){return new r(o,a)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return rr(this._data,xt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(o,a){return new r(o,a)},r.prototype.subset=function(o,a,c){switch(arguments.length){case 1:return u(this,o);case 2:case 3:return i(this,o,a,c);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(o){if(!pe(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new ae(o.length,this._size.length);for(var a=0;a<o.length;a++)De(o[a],this._size[a]);for(var c=this._data,d=0,D=o.length;d<D;d++){var s=o[d];De(s,c.length),c=c[s]}return c},r.prototype.set=function(o,a,c){if(!pe(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new ae(o.length,this._size.length,"<");var d,D,s,p=o.map(function(F){return F+1});l(this,p,c);var m=this._data;for(d=0,D=o.length-1;d<D;d++)s=o[d],De(s,m.length),m=m[s];return s=o[o.length-1],De(s,m.length),m[s]=a,this};function u(o,a){if(!Pr(a))throw new TypeError("Invalid index");var c=a.isScalar();if(c)return o.get(a.min());var d=a.size();if(d.length!==o._size.length)throw new ae(d.length,o._size.length);for(var D=a.min(),s=a.max(),p=0,m=o._size.length;p<m;p++)De(D[p],o._size[p]),De(s[p],o._size[p]);return new r(n(o._data,a,d.length,0),o._datatype)}function n(o,a,c,d){var D=d===c-1,s=a.dimension(d);return D?s.map(function(p){return De(p,o.length),o[p]}).valueOf():s.map(function(p){De(p,o.length);var m=o[p];return n(m,a,c,d+1)}).valueOf()}function i(o,a,c,d){if(!a||a.isIndex!==!0)throw new TypeError("Invalid index");var D=a.size(),s=a.isScalar(),p;if(Me(c)?(p=c.size(),c=c.valueOf()):p=lt(c),s){if(p.length!==0)throw new TypeError("Scalar expected");o.set(a.min(),c,d)}else{if(D.length<o._size.length)throw new ae(D.length,o._size.length,"<");if(p.length<D.length){for(var m=0,F=0;D[m]===1&&p[m]===1;)m++;for(;D[m]===1;)F++,m++;c=Ln(c,D.length,F,p)}if(!er(D,p))throw new ae(D,p,">");var g=a.max().map(function(w){return w+1});l(o,g,d);var C=D.length,E=0;f(o._data,a,c,C,E)}return o}function f(o,a,c,d,D){var s=D===d-1,p=a.dimension(D);s?p.forEach(function(m,F){De(m),o[m]=c[F[0]]}):p.forEach(function(m,F){De(m),f(o[m],a,c[F[0]],d,D+1)})}r.prototype.resize=function(o,a,c){if(!jt(o))throw new TypeError("Array or Matrix expected");var d=o.valueOf().map(s=>Array.isArray(s)&&s.length===1?s[0]:s),D=c?this.clone():this;return h(D,d,a)};function h(o,a,c){if(a.length===0){for(var d=o._data;pe(d);)d=d[0];return d}return o._size=a.slice(0),o._data=_r(o._data,o._size,c),o}r.prototype.reshape=function(o,a){var c=a?this.clone():this;c._data=Da(c._data,o);var d=c._size.reduce((D,s)=>D*s);return c._size=$r(o,d),c};function l(o,a,c){for(var d=o._size.slice(0),D=!1;d.length<a.length;)d.push(0),D=!0;for(var s=0,p=a.length;s<p;s++)a[s]>d[s]&&(d[s]=a[s],D=!0);D&&h(o,d,c)}r.prototype.clone=function(){var o=new r({data:we(this._data),size:we(this._size),datatype:this._datatype});return o},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(o){var a=this,c=nu(o),d=function p(m,F){return pe(m)?m.map(function(g,C){return p(g,F.concat(C))}):c===1?o(m):c===2?o(m,F):o(m,F,a)},D=d(this._data,[]),s=this._datatype!==void 0?rr(D,xt):void 0;return new r(D,s)},r.prototype.forEach=function(o){var a=this,c=function d(D,s){pe(D)?D.forEach(function(p,m){d(p,s.concat(m))}):o(D,s,a)};c(this._data,[])},r.prototype[Symbol.iterator]=function*(){var o=function*a(c,d){if(pe(c))for(var D=0;D<c.length;D++)yield*a(c[D],d.concat(D));else yield{value:c,index:d}};yield*o(this._data,[])},r.prototype.rows=function(){var o=[],a=this.size();if(a.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var c=this._data;for(var d of c)o.push(new r([d],this._datatype));return o},r.prototype.columns=function(){var o=this,a=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,D=function(m){var F=d.map(g=>[g[m]]);a.push(new r(F,o._datatype))},s=0;s<c[1];s++)D(s);return a},r.prototype.toArray=function(){return we(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(o){return Ae(this._data,o)},r.prototype.toString=function(){return Ae(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(o){if(o){if($e(o)&&(o=o.toNumber()),!me(o)||!Ce(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var a=o>0?o:0,c=o<0?-o:0,d=this._size[0],D=this._size[1],s=Math.min(d-c,D-a),p=[],m=0;m<s;m++)p[m]=this._data[m+c][m+a];return new r({data:p,size:[s],datatype:this._datatype})},r.diagonal=function(o,a,c,d){if(!pe(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(B){if($e(B)&&(B=B.toNumber()),!me(B)||!Ce(B)||B<1)throw new Error("Size values must be positive integers");return B}),c){if($e(c)&&(c=c.toNumber()),!me(c)||!Ce(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var D=c>0?c:0,s=c<0?-c:0,p=o[0],m=o[1],F=Math.min(p-s,m-D),g;if(pe(a)){if(a.length!==F)throw new Error("Invalid value array length");g=function(A){return a[A]}}else if(Me(a)){var C=a.size();if(C.length!==1||C[0]!==F)throw new Error("Invalid matrix length");g=function(A){return a.get([A])}}else g=function(){return a};d||(d=$e(g(0))?g(0).mul(0):0);var E=[];if(o.length>0){E=_r(E,o,d);for(var w=0;w<F;w++)E[w+s][w+D]=g(w)}return new r({data:E,size:[p,m]})},r.fromJSON=function(o){return new r(o)},r.prototype.swapRows=function(o,a){if(!me(o)||!Ce(o)||!me(a)||!Ce(a))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return De(o,this._size[0]),De(a,this._size[0]),r._swapRows(o,a,this._data),this},r._swapRows=function(o,a,c){var d=c[o];c[o]=c[a],c[a]=d};function v(o){for(var a=0,c=o.length;a<c;a++){var d=o[a];pe(d)?o[a]=v(d):d&&d.isMatrix===!0&&(o[a]=v(d.valueOf()))}return o}return r},{isClass:!0});function ht(e,t,r){return e&&typeof e.map=="function"?e.map(function(u){return ht(u,t)}):t(e)}var un="isInteger",Ho=["typed"],Wo=Q(un,Ho,e=>{var{typed:t}=e;return t(un,{number:Ce,BigNumber:function(u){return u.isInt()},Fraction:function(u){return u.d===1&&isFinite(u.n)},"Array | Matrix":t.referToSelf(r=>u=>ht(u,r))})}),uu="number",iu="number, number";function au(e){return Math.abs(e)}au.signature=uu;function ou(e,t){return e+t}ou.signature=iu;function su(e,t){return e*t}su.signature=iu;function fu(e){return-e}fu.signature=uu;var ko="number";function cu(e){return e===0}cu.signature=ko;var an="isZero",Yo=["typed"],Jo=Q(an,Yo,e=>{var{typed:t}=e;return t(an,{number:cu,BigNumber:function(u){return u.isZero()},Complex:function(u){return u.re===0&&u.im===0},Fraction:function(u){return u.d===1&&u.n===0},Unit:t.referToSelf(r=>u=>t.find(r,u.valueType())(u.value)),"Array | Matrix":t.referToSelf(r=>u=>ht(u,r))})});function Xo(e,t,r){if(r==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var u=e.minus(t).abs();if(u.isZero())return!0;var n=e.constructor.max(e.abs(),t.abs());return u.lte(n.times(r))}return!1}function Go(e,t,r){return tr(e.re,t.re,r)&&tr(e.im,t.im,r)}var Ko=Q("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(u,n)=>{if(!u.equalBase(n))throw new Error("Cannot compare units with different base");return t.find(r,[u.valueType(),n.valueType()])(u.value,n.value)})}}),ar="equalScalar",Qo=["typed","config"],jo=Q(ar,Qo,e=>{var{typed:t,config:r}=e,u=Ko({typed:t});return t(ar,{"boolean, boolean":function(i,f){return i===f},"number, number":function(i,f){return tr(i,f,r.epsilon)},"BigNumber, BigNumber":function(i,f){return i.eq(f)||Xo(i,f,r.epsilon)},"Fraction, Fraction":function(i,f){return i.equals(f)},"Complex, Complex":function(i,f){return Go(i,f,r.epsilon)}},u)});Q(ar,["typed","config"],e=>{var{typed:t,config:r}=e;return t(ar,{"number, number":function(n,i){return tr(n,i,r.epsilon)}})});var es="SparseMatrix",ts=["typed","equalScalar","Matrix"],rs=Q(es,ts,e=>{var{typed:t,equalScalar:r,Matrix:u}=e;function n(s,p){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!ut(p))throw new Error("Invalid datatype: "+p);if(Me(s))i(this,s,p);else if(s&&pe(s.index)&&pe(s.ptr)&&pe(s.size))this._values=s.values,this._index=s.index,this._ptr=s.ptr,this._size=s.size,this._datatype=p||s.datatype;else if(pe(s))f(this,s,p);else{if(s)throw new TypeError("Unsupported type of data ("+xt(s)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=p}}function i(s,p,m){p.type==="SparseMatrix"?(s._values=p._values?we(p._values):void 0,s._index=we(p._index),s._ptr=we(p._ptr),s._size=we(p._size),s._datatype=m||p._datatype):f(s,p.valueOf(),m||p._datatype)}function f(s,p,m){s._values=[],s._index=[],s._ptr=[],s._datatype=m;var F=p.length,g=0,C=r,E=0;if(ut(m)&&(C=t.find(r,[m,m])||r,E=t.convert(0,m)),F>0){var w=0;do{s._ptr.push(s._index.length);for(var B=0;B<F;B++){var A=p[B];if(pe(A)){if(w===0&&g<A.length&&(g=A.length),w<A.length){var b=A[w];C(b,E)||(s._values.push(b),s._index.push(B))}}else w===0&&g<1&&(g=1),C(A,E)||(s._values.push(A),s._index.push(B))}w++}while(w<g)}s._ptr.push(s._index.length),s._size=[F,g]}n.prototype=new u,n.prototype.createSparseMatrix=function(s,p){return new n(s,p)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return rr(this._values,xt)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(s,p){return new n(s,p)},n.prototype.density=function(){var s=this._size[0],p=this._size[1];return s!==0&&p!==0?this._index.length/(s*p):0},n.prototype.subset=function(s,p,m){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,s);case 2:case 3:return l(this,s,p,m);default:throw new SyntaxError("Wrong number of arguments")}};function h(s,p){if(!Pr(p))throw new TypeError("Invalid index");var m=p.isScalar();if(m)return s.get(p.min());var F=p.size();if(F.length!==s._size.length)throw new ae(F.length,s._size.length);var g,C,E,w,B=p.min(),A=p.max();for(g=0,C=s._size.length;g<C;g++)De(B[g],s._size[g]),De(A[g],s._size[g]);var b=s._values,S=s._index,N=s._ptr,R=p.dimension(0),Z=p.dimension(1),U=[],V=[];R.forEach(function(Y,K){V[Y]=K[0],U[Y]=!0});var z=b?[]:void 0,k=[],H=[];return Z.forEach(function(Y){for(H.push(k.length),E=N[Y],w=N[Y+1];E<w;E++)g=S[E],U[g]===!0&&(k.push(V[g]),z&&z.push(b[E]))}),H.push(k.length),new n({values:z,index:k,ptr:H,size:F,datatype:s._datatype})}function l(s,p,m,F){if(!p||p.isIndex!==!0)throw new TypeError("Invalid index");var g=p.size(),C=p.isScalar(),E;if(Me(m)?(E=m.size(),m=m.toArray()):E=lt(m),C){if(E.length!==0)throw new TypeError("Scalar expected");s.set(p.min(),m,F)}else{if(g.length!==1&&g.length!==2)throw new ae(g.length,s._size.length,"<");if(E.length<g.length){for(var w=0,B=0;g[w]===1&&E[w]===1;)w++;for(;g[w]===1;)B++,w++;m=Ln(m,g.length,B,E)}if(!er(g,E))throw new ae(g,E,">");if(g.length===1){var A=p.dimension(0);A.forEach(function(N,R){De(N),s.set([N,0],m[R[0]],F)})}else{var b=p.dimension(0),S=p.dimension(1);b.forEach(function(N,R){De(N),S.forEach(function(Z,U){De(Z),s.set([N,Z],m[R[0]][U[0]],F)})})}}return s}n.prototype.get=function(s){if(!pe(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new ae(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var p=s[0],m=s[1];De(p,this._size[0]),De(m,this._size[1]);var F=v(p,this._ptr[m],this._ptr[m+1],this._index);return F<this._ptr[m+1]&&this._index[F]===p?this._values[F]:0},n.prototype.set=function(s,p,m){if(!pe(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new ae(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var F=s[0],g=s[1],C=this._size[0],E=this._size[1],w=r,B=0;ut(this._datatype)&&(w=t.find(r,[this._datatype,this._datatype])||r,B=t.convert(0,this._datatype)),(F>C-1||g>E-1)&&(c(this,Math.max(F+1,C),Math.max(g+1,E),m),C=this._size[0],E=this._size[1]),De(F,C),De(g,E);var A=v(F,this._ptr[g],this._ptr[g+1],this._index);return A<this._ptr[g+1]&&this._index[A]===F?w(p,B)?o(A,g,this._values,this._index,this._ptr):this._values[A]=p:w(p,B)||a(A,F,g,p,this._values,this._index,this._ptr),this};function v(s,p,m,F){if(m-p===0)return m;for(var g=p;g<m;g++)if(F[g]===s)return g;return p}function o(s,p,m,F,g){m.splice(s,1),F.splice(s,1);for(var C=p+1;C<g.length;C++)g[C]--}function a(s,p,m,F,g,C,E){g.splice(s,0,F),C.splice(s,0,p);for(var w=m+1;w<E.length;w++)E[w]++}n.prototype.resize=function(s,p,m){if(!jt(s))throw new TypeError("Array or Matrix expected");var F=s.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(F.length!==2)throw new Error("Only two dimensions matrix are supported");F.forEach(function(C){if(!me(C)||!Ce(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ae(F)+")")});var g=m?this.clone():this;return c(g,F[0],F[1],p)};function c(s,p,m,F){var g=F||0,C=r,E=0;ut(s._datatype)&&(C=t.find(r,[s._datatype,s._datatype])||r,E=t.convert(0,s._datatype),g=t.convert(g,s._datatype));var w=!C(g,E),B=s._size[0],A=s._size[1],b,S,N;if(m>A){for(S=A;S<m;S++)if(s._ptr[S]=s._values.length,w)for(b=0;b<B;b++)s._values.push(g),s._index.push(b);s._ptr[m]=s._values.length}else m<A&&(s._ptr.splice(m+1,A-m),s._values.splice(s._ptr[m],s._values.length),s._index.splice(s._ptr[m],s._index.length));if(A=m,p>B){if(w){var R=0;for(S=0;S<A;S++){s._ptr[S]=s._ptr[S]+R,N=s._ptr[S+1]+R;var Z=0;for(b=B;b<p;b++,Z++)s._values.splice(N+Z,0,g),s._index.splice(N+Z,0,b),R++}s._ptr[A]=s._values.length}}else if(p<B){var U=0;for(S=0;S<A;S++){s._ptr[S]=s._ptr[S]-U;var V=s._ptr[S],z=s._ptr[S+1]-U;for(N=V;N<z;N++)b=s._index[N],b>p-1&&(s._values.splice(N,1),s._index.splice(N,1),U++)}s._ptr[S]=s._values.length}return s._size[0]=p,s._size[1]=m,s}n.prototype.reshape=function(s,p){if(!pe(s))throw new TypeError("Array expected");if(s.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");s.forEach(function(Y){if(!me(Y)||!Ce(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ae(s)+")")});var m=this._size[0]*this._size[1];s=$r(s,m);var F=s[0]*s[1];if(m!==F)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=p?this.clone():this;if(this._size[0]===s[0]&&this._size[1]===s[1])return g;for(var C=[],E=0;E<g._ptr.length;E++)for(var w=0;w<g._ptr[E+1]-g._ptr[E];w++)C.push(E);for(var B=g._values.slice(),A=g._index.slice(),b=0;b<g._index.length;b++){var S=A[b],N=C[b],R=S*g._size[1]+N;C[b]=R%s[1],A[b]=Math.floor(R/s[1])}g._values.length=0,g._index.length=0,g._ptr.length=s[1]+1,g._size=s.slice();for(var Z=0;Z<g._ptr.length;Z++)g._ptr[Z]=0;for(var U=0;U<B.length;U++){var V=A[U],z=C[U],k=B[U],H=v(V,g._ptr[z],g._ptr[z+1],g._index);a(H,V,z,k,g._values,g._index,g._ptr)}return g},n.prototype.clone=function(){var s=new n({values:this._values?we(this._values):void 0,index:we(this._index),ptr:we(this._ptr),size:we(this._size),datatype:this._datatype});return s},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(s,p){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var m=this,F=this._size[0],g=this._size[1],C=nu(s),E=function(B,A,b){return C===1?s(B):C===2?s(B,[A,b]):s(B,[A,b],m)};return d(this,0,F-1,0,g-1,E,p)};function d(s,p,m,F,g,C,E){var w=[],B=[],A=[],b=r,S=0;ut(s._datatype)&&(b=t.find(r,[s._datatype,s._datatype])||r,S=t.convert(0,s._datatype));for(var N=function(te,Ee,ye){te=C(te,Ee,ye),b(te,S)||(w.push(te),B.push(Ee))},R=F;R<=g;R++){A.push(w.length);var Z=s._ptr[R],U=s._ptr[R+1];if(E)for(var V=Z;V<U;V++){var z=s._index[V];z>=p&&z<=m&&N(s._values[V],z-p,R-F)}else{for(var k={},H=Z;H<U;H++){var Y=s._index[H];k[Y]=s._values[H]}for(var K=p;K<=m;K++){var ue=K in k?k[K]:0;N(ue,K-p,R-F)}}}return A.push(w.length),new n({values:w,index:B,ptr:A,size:[m-p+1,g-F+1]})}n.prototype.forEach=function(s,p){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var m=this,F=this._size[0],g=this._size[1],C=0;C<g;C++){var E=this._ptr[C],w=this._ptr[C+1];if(p)for(var B=E;B<w;B++){var A=this._index[B];s(this._values[B],[A,C],m)}else{for(var b={},S=E;S<w;S++){var N=this._index[S];b[N]=this._values[S]}for(var R=0;R<F;R++){var Z=R in b?b[R]:0;s(Z,[R,C],m)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var s=this._size[1],p=0;p<s;p++)for(var m=this._ptr[p],F=this._ptr[p+1],g=m;g<F;g++){var C=this._index[g];yield{value:this._values[g],index:[C,p]}}},n.prototype.toArray=function(){return D(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return D(this._values,this._index,this._ptr,this._size,!1)};function D(s,p,m,F,g){var C=F[0],E=F[1],w=[],B,A;for(B=0;B<C;B++)for(w[B]=[],A=0;A<E;A++)w[B][A]=0;for(A=0;A<E;A++)for(var b=m[A],S=m[A+1],N=b;N<S;N++)B=p[N],w[B][A]=s?g?we(s[N]):s[N]:1;return w}return n.prototype.format=function(s){for(var p=this._size[0],m=this._size[1],F=this.density(),g="Sparse Matrix ["+Ae(p,s)+" x "+Ae(m,s)+"] density: "+Ae(F,s)+`
`,C=0;C<m;C++)for(var E=this._ptr[C],w=this._ptr[C+1],B=E;B<w;B++){var A=this._index[B];g+=`
    (`+Ae(A,s)+", "+Ae(C,s)+") ==> "+(this._values?Ae(this._values[B],s):"X")}return g},n.prototype.toString=function(){return Ae(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(s){if(s){if($e(s)&&(s=s.toNumber()),!me(s)||!Ce(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var p=s>0?s:0,m=s<0?-s:0,F=this._size[0],g=this._size[1],C=Math.min(F-m,g-p),E=[],w=[],B=[];B[0]=0;for(var A=p;A<g&&E.length<C;A++)for(var b=this._ptr[A],S=this._ptr[A+1],N=b;N<S;N++){var R=this._index[N];if(R===A-p+m){E.push(this._values[N]),w[E.length-1]=R-m;break}}return B.push(E.length),new n({values:E,index:w,ptr:B,size:[C,1]})},n.fromJSON=function(s){return new n(s)},n.diagonal=function(s,p,m,F,g){if(!pe(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(Y){if($e(Y)&&(Y=Y.toNumber()),!me(Y)||!Ce(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),m){if($e(m)&&(m=m.toNumber()),!me(m)||!Ce(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var C=r,E=0;ut(g)&&(C=t.find(r,[g,g])||r,E=t.convert(0,g));var w=m>0?m:0,B=m<0?-m:0,A=s[0],b=s[1],S=Math.min(A-B,b-w),N;if(pe(p)){if(p.length!==S)throw new Error("Invalid value array length");N=function(K){return p[K]}}else if(Me(p)){var R=p.size();if(R.length!==1||R[0]!==S)throw new Error("Invalid matrix length");N=function(K){return p.get([K])}}else N=function(){return p};for(var Z=[],U=[],V=[],z=0;z<b;z++){V.push(Z.length);var k=z-w;if(k>=0&&k<S){var H=N(k);C(H,E)||(U.push(k+B),Z.push(H))}}return V.push(Z.length),new n({values:Z,index:U,ptr:V,size:[A,b]})},n.prototype.swapRows=function(s,p){if(!me(s)||!Ce(s)||!me(p)||!Ce(p))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return De(s,this._size[0]),De(p,this._size[0]),n._swapRows(s,p,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(s,p,m,F,g){for(var C=F[s],E=F[s+1],w=C;w<E;w++)g(m[w],p[w])},n._swapRows=function(s,p,m,F,g,C){for(var E=0;E<m;E++){var w=C[E],B=C[E+1],A=v(s,w,B,g),b=v(p,w,B,g);if(A<B&&b<B&&g[A]===s&&g[b]===p){if(F){var S=F[A];F[A]=F[b],F[b]=S}continue}if(A<B&&g[A]===s&&(b>=B||g[b]!==p)){var N=F?F[A]:void 0;g.splice(b,0,p),F&&F.splice(b,0,N),g.splice(b<=A?A+1:A,1),F&&F.splice(b<=A?A+1:A,1);continue}if(b<B&&g[b]===p&&(A>=B||g[A]!==s)){var R=F?F[b]:void 0;g.splice(A,0,s),F&&F.splice(A,0,R),g.splice(A<=b?b+1:b,1),F&&F.splice(A<=b?b+1:b,1)}}},n},{isClass:!0}),ns="number",us=["typed"];function is(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],u=t[2],n=t[3];return{input:e,radix:r,integerPart:u,fractionalPart:n}}else return null}function as(e){for(var t=parseInt(e.integerPart,e.radix),r=0,u=0;u<e.fractionalPart.length;u++){var n=parseInt(e.fractionalPart[u],e.radix);r+=n/Math.pow(e.radix,u+1)}var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is no valid number');return i}var os=Q(ns,us,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var i=is(n);if(i)return as(i);var f=0,h=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);h&&(f=Number(h[2]),n=h[1]);var l=Number(n);if(isNaN(l))throw new SyntaxError('String "'+n+'" is no valid number');if(h){if(l>2**f-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));l>=2**(f-1)&&(l=l-2**f)}return l},BigNumber:function(n){return n.toNumber()},Fraction:function(n){return n.valueOf()},Unit:t.referToSelf(u=>n=>{var i=n.clone();return i.value=u(n.value),i}),null:function(n){return 0},"Unit, string | Unit":function(n,i){return n.toNumber(i)},"Array | Matrix":t.referToSelf(u=>n=>ht(n,u))});return r.fromJSON=function(u){return parseFloat(u.value)},r}),ss="bignumber",fs=["typed","BigNumber"],cs=Q(ss,fs,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(n){return new r(n+"")},string:function(n){var i=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var f=i[2],h=r(i[1]),l=new r(2).pow(Number(f));if(h.gt(l.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var v=new r(2).pow(Number(f)-1);return h.gte(v)?h.sub(l):h}return new r(n)},BigNumber:function(n){return n},Unit:t.referToSelf(u=>n=>{var i=n.clone();return i.value=u(n.value),i}),Fraction:function(n){return new r(n.n).div(n.d).times(n.s)},null:function(n){return new r(0)},"Array | Matrix":t.referToSelf(u=>n=>ht(n,u))})}),ls="fraction",hs=["typed","Fraction"],ds=Q(ls,hs,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new r(n)},string:function(n){return new r(n)},"number, number":function(n,i){return new r(n,i)},null:function(n){return new r(0)},BigNumber:function(n){return new r(n.toString())},Fraction:function(n){return n},Unit:t.referToSelf(u=>n=>{var i=n.clone();return i.value=u(n.value),i}),Object:function(n){return new r(n)},"Array | Matrix":t.referToSelf(u=>n=>ht(n,u))})}),on="matrix",vs=["typed","Matrix","DenseMatrix","SparseMatrix"],ps=Q(on,vs,e=>{var{typed:t,Matrix:r,DenseMatrix:u,SparseMatrix:n}=e;return t(on,{"":function(){return i([])},string:function(h){return i([],h)},"string, string":function(h,l){return i([],h,l)},Array:function(h){return i(h)},Matrix:function(h){return i(h,h.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(f,h,l){if(h==="dense"||h==="default"||h===void 0)return new u(f,l);if(h==="sparse")return new n(f,l);throw new TypeError("Unknown matrix type "+JSON.stringify(h)+".")}}),sn="unaryMinus",Ds=["typed"],ms=Q(sn,Ds,e=>{var{typed:t}=e;return t(sn,{number:fu,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:t.referToSelf(r=>u=>{var n=u.clone();return n.value=t.find(r,n.valueType())(u.value),n}),"Array | Matrix":t.referToSelf(r=>u=>ht(u,r))})}),fn="abs",gs=["typed"],ws=Q(fn,gs,e=>{var{typed:t}=e;return t(fn,{number:au,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":t.referToSelf(r=>u=>ht(u,r))})}),cn="addScalar",ys=["typed"],Fs=Q(cn,ys,e=>{var{typed:t}=e;return t(cn,{"number, number":ou,"Complex, Complex":function(u,n){return u.add(n)},"BigNumber, BigNumber":function(u,n){return u.plus(n)},"Fraction, Fraction":function(u,n){return u.add(n)},"Unit, Unit":t.referToSelf(r=>(u,n)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(n))throw new Error("Units do not match");var i=u.clone();return i.value=t.find(r,[i.valueType(),n.valueType()])(i.value,n.value),i.fixPrefix=!1,i})})}),Es="matAlgo11xS0s",As=["typed","equalScalar"],lu=Q(Es,As,e=>{var{typed:t,equalScalar:r}=e;return function(n,i,f,h){var l=n._values,v=n._index,o=n._ptr,a=n._size,c=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=a[0],D=a[1],s,p=r,m=0,F=f;typeof c=="string"&&(s=c,p=t.find(r,[s,s]),m=t.convert(0,s),i=t.convert(i,s),F=t.find(f,[s,s]));for(var g=[],C=[],E=[],w=0;w<D;w++){E[w]=C.length;for(var B=o[w],A=o[w+1],b=B;b<A;b++){var S=v[b],N=h?F(i,l[b]):F(l[b],i);p(N,m)||(C.push(S),g.push(N))}}return E[D]=C.length,n.createSparseMatrix({values:g,index:C,ptr:E,size:[d,D],datatype:s})}}),Cs="matAlgo12xSfs",_s=["typed","DenseMatrix"],bs=Q(Cs,_s,e=>{var{typed:t,DenseMatrix:r}=e;return function(n,i,f,h){var l=n._values,v=n._index,o=n._ptr,a=n._size,c=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=a[0],D=a[1],s,p=f;typeof c=="string"&&(s=c,i=t.convert(i,s),p=t.find(f,[s,s]));for(var m=[],F=[],g=[],C=0;C<D;C++){for(var E=C+1,w=o[C],B=o[C+1],A=w;A<B;A++){var b=v[A];F[b]=l[A],g[b]=E}for(var S=0;S<d;S++)C===0&&(m[S]=[]),g[S]===E?m[S][C]=h?p(i,F[S]):p(F[S],i):m[S][C]=h?p(i,0):p(0,i)}return new r({data:m,size:[d,D],datatype:s})}}),Bs="matAlgo14xDs",Ms=["typed"],Lr=Q(Bs,Ms,e=>{var{typed:t}=e;return function(n,i,f,h){var l=n._data,v=n._size,o=n._datatype,a,c=f;typeof o=="string"&&(a=o,i=t.convert(i,a),c=t.find(f,[a,a]));var d=v.length>0?r(c,0,v,v[0],l,i,h):[];return n.createDenseMatrix({data:d,size:we(v),datatype:a})};function r(u,n,i,f,h,l,v){var o=[];if(n===i.length-1)for(var a=0;a<f;a++)o[a]=v?u(l,h[a]):u(h[a],l);else for(var c=0;c<f;c++)o[c]=r(u,n+1,i,i[n+1],h[c],l,v);return o}}),Ss="matAlgo01xDSid",Ns=["typed"],xs=Q(Ss,Ns,e=>{var{typed:t}=e;return function(u,n,i,f){var h=u._data,l=u._size,v=u._datatype,o=n._values,a=n._index,c=n._ptr,d=n._size,D=n._datatype;if(l.length!==d.length)throw new ae(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=l[0],p=l[1],m=typeof v=="string"&&v===D?v:void 0,F=m?t.find(i,[m,m]):i,g,C,E=[];for(g=0;g<s;g++)E[g]=[];var w=[],B=[];for(C=0;C<p;C++){for(var A=C+1,b=c[C],S=c[C+1],N=b;N<S;N++)g=a[N],w[g]=f?F(o[N],h[g][C]):F(h[g][C],o[N]),B[g]=A;for(g=0;g<s;g++)B[g]===A?E[g][C]=w[g]:E[g][C]=h[g][C]}return u.createDenseMatrix({data:E,size:[s,p],datatype:m})}}),Ts="matAlgo10xSids",Is=["typed","DenseMatrix"],zs=Q(Ts,Is,e=>{var{typed:t,DenseMatrix:r}=e;return function(n,i,f,h){var l=n._values,v=n._index,o=n._ptr,a=n._size,c=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=a[0],D=a[1],s,p=f;typeof c=="string"&&(s=c,i=t.convert(i,s),p=t.find(f,[s,s]));for(var m=[],F=[],g=[],C=0;C<D;C++){for(var E=C+1,w=o[C],B=o[C+1],A=w;A<B;A++){var b=v[A];F[b]=l[A],g[b]=E}for(var S=0;S<d;S++)C===0&&(m[S]=[]),g[S]===E?m[S][C]=h?p(i,F[S]):p(F[S],i):m[S][C]=i}return new r({data:m,size:[d,D],datatype:s})}}),Os="matAlgo13xDD",Ps=["typed"],$s=Q(Os,Ps,e=>{var{typed:t}=e;return function(n,i,f){var h=n._data,l=n._size,v=n._datatype,o=i._data,a=i._size,c=i._datatype,d=[];if(l.length!==a.length)throw new ae(l.length,a.length);for(var D=0;D<l.length;D++){if(l[D]!==a[D])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+a+")");d[D]=l[D]}var s,p=f;typeof v=="string"&&v===c&&(s=v,p=t.find(f,[s,s]));var m=d.length>0?r(p,0,d,d[0],h,o):[];return n.createDenseMatrix({data:m,size:d,datatype:s})};function r(u,n,i,f,h,l){var v=[];if(n===i.length-1)for(var o=0;o<f;o++)v[o]=u(h[o],l[o]);else for(var a=0;a<f;a++)v[a]=r(u,n+1,i,i[n+1],h[a],l[a]);return v}}),Rs="broadcast",Ls=["concat"],qs=Q(Rs,Ls,e=>{var{concat:t}=e;return function(i,f){var h=Math.max(i._size.length,f._size.length);if(i._size.length===f._size.length&&i._size.every((p,m)=>p===f._size[m]))return[i,f];for(var l=r(i._size,h,0),v=r(f._size,h,0),o=[],a=0;a<h;a++)o[a]=Math.max(l[a],v[a]);for(var c=0;c<h;c++)n(l,o,c),n(v,o,c);var d=i.clone(),D=f.clone();d._size.length<h?d.reshape(r(d._size,h,1)):D._size.length<h&&D.reshape(r(D._size,h,1));for(var s=0;s<h;s++)d._size[s]<o[s]&&(d=u(d,o[s],s)),D._size[s]<o[s]&&(D=u(D,o[s],s));return[d,D]};function r(i,f,h){return[...Array(f-i.length).fill(h),...i]}function u(i,f,h){return t(...Array(f).fill(i),h)}function n(i,f,h){if(i[h]<f[h]&i[h]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(i,") not possible to broadcast dimension ").concat(h," with size ").concat(i[h]," to size ").concat(f[h]))}}),Us="matrixAlgorithmSuite",Vs=["typed","matrix","concat"],Zs=Q(Us,Vs,e=>{var{typed:t,matrix:r,concat:u}=e,n=$s({typed:t}),i=Lr({typed:t}),f=qs({concat:u});return function(l){var v=l.elop,o=l.SD||l.DS,a;v?(a={"DenseMatrix, DenseMatrix":(s,p)=>n(...f(s,p),v),"Array, Array":(s,p)=>n(...f(r(s),r(p)),v).valueOf(),"Array, DenseMatrix":(s,p)=>n(...f(r(s),p),v),"DenseMatrix, Array":(s,p)=>n(...f(s,r(p)),v)},l.SS&&(a["SparseMatrix, SparseMatrix"]=(s,p)=>l.SS(...f(s,p),v,!1)),l.DS&&(a["DenseMatrix, SparseMatrix"]=(s,p)=>l.DS(...f(s,p),v,!1),a["Array, SparseMatrix"]=(s,p)=>l.DS(...f(r(s),p),v,!1)),o&&(a["SparseMatrix, DenseMatrix"]=(s,p)=>o(...f(p,s),v,!0),a["SparseMatrix, Array"]=(s,p)=>o(...f(r(p),s),v,!0))):(a={"DenseMatrix, DenseMatrix":t.referToSelf(s=>(p,m)=>n(...f(p,m),s)),"Array, Array":t.referToSelf(s=>(p,m)=>n(...f(r(p),r(m)),s).valueOf()),"Array, DenseMatrix":t.referToSelf(s=>(p,m)=>n(...f(r(p),m),s)),"DenseMatrix, Array":t.referToSelf(s=>(p,m)=>n(...f(p,r(m)),s))},l.SS&&(a["SparseMatrix, SparseMatrix"]=t.referToSelf(s=>(p,m)=>l.SS(...f(p,m),s,!1))),l.DS&&(a["DenseMatrix, SparseMatrix"]=t.referToSelf(s=>(p,m)=>l.DS(...f(p,m),s,!1)),a["Array, SparseMatrix"]=t.referToSelf(s=>(p,m)=>l.DS(...f(r(p),m),s,!1))),o&&(a["SparseMatrix, DenseMatrix"]=t.referToSelf(s=>(p,m)=>o(...f(m,p),s,!0)),a["SparseMatrix, Array"]=t.referToSelf(s=>(p,m)=>o(...f(r(m),p),s,!0))));var c=l.scalar||"any",d=l.Ds||l.Ss;d&&(v?(a["DenseMatrix,"+c]=(s,p)=>i(s,p,v,!1),a[c+", DenseMatrix"]=(s,p)=>i(p,s,v,!0),a["Array,"+c]=(s,p)=>i(r(s),p,v,!1).valueOf(),a[c+", Array"]=(s,p)=>i(r(p),s,v,!0).valueOf()):(a["DenseMatrix,"+c]=t.referToSelf(s=>(p,m)=>i(p,m,s,!1)),a[c+", DenseMatrix"]=t.referToSelf(s=>(p,m)=>i(m,p,s,!0)),a["Array,"+c]=t.referToSelf(s=>(p,m)=>i(r(p),m,s,!1).valueOf()),a[c+", Array"]=t.referToSelf(s=>(p,m)=>i(r(m),p,s,!0).valueOf())));var D=l.sS!==void 0?l.sS:l.Ss;return v?(l.Ss&&(a["SparseMatrix,"+c]=(s,p)=>l.Ss(s,p,v,!1)),D&&(a[c+", SparseMatrix"]=(s,p)=>D(p,s,v,!0))):(l.Ss&&(a["SparseMatrix,"+c]=t.referToSelf(s=>(p,m)=>l.Ss(p,m,s,!1))),D&&(a[c+", SparseMatrix"]=t.referToSelf(s=>(p,m)=>D(m,p,s,!0)))),v&&v.signatures&&In(a,v.signatures),a}}),Hs="matAlgo03xDSf",Ws=["typed"],ks=Q(Hs,Ws,e=>{var{typed:t}=e;return function(u,n,i,f){var h=u._data,l=u._size,v=u._datatype,o=n._values,a=n._index,c=n._ptr,d=n._size,D=n._datatype;if(l.length!==d.length)throw new ae(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=l[0],p=l[1],m,F=0,g=i;typeof v=="string"&&v===D&&(m=v,F=t.convert(0,m),g=t.find(i,[m,m]));for(var C=[],E=0;E<s;E++)C[E]=[];for(var w=[],B=[],A=0;A<p;A++){for(var b=A+1,S=c[A],N=c[A+1],R=S;R<N;R++){var Z=a[R];w[Z]=f?g(o[R],h[Z][A]):g(h[Z][A],o[R]),B[Z]=b}for(var U=0;U<s;U++)B[U]===b?C[U][A]=w[U]:C[U][A]=f?g(F,h[U][A]):g(h[U][A],F)}return u.createDenseMatrix({data:C,size:[s,p],datatype:m})}}),Ys="matAlgo05xSfSf",Js=["typed","equalScalar"],Xs=Q(Ys,Js,e=>{var{typed:t,equalScalar:r}=e;return function(n,i,f){var h=n._values,l=n._index,v=n._ptr,o=n._size,a=n._datatype,c=i._values,d=i._index,D=i._ptr,s=i._size,p=i._datatype;if(o.length!==s.length)throw new ae(o.length,s.length);if(o[0]!==s[0]||o[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+s+")");var m=o[0],F=o[1],g,C=r,E=0,w=f;typeof a=="string"&&a===p&&(g=a,C=t.find(r,[g,g]),E=t.convert(0,g),w=t.find(f,[g,g]));var B=h&&c?[]:void 0,A=[],b=[],S=B?[]:void 0,N=B?[]:void 0,R=[],Z=[],U,V,z,k;for(V=0;V<F;V++){b[V]=A.length;var H=V+1;for(z=v[V],k=v[V+1];z<k;z++)U=l[z],A.push(U),R[U]=H,S&&(S[U]=h[z]);for(z=D[V],k=D[V+1];z<k;z++)U=d[z],R[U]!==H&&A.push(U),Z[U]=H,N&&(N[U]=c[z]);if(B)for(z=b[V];z<A.length;){U=A[z];var Y=R[U],K=Z[U];if(Y===H||K===H){var ue=Y===H?S[U]:E,ne=K===H?N[U]:E,te=w(ue,ne);C(te,E)?A.splice(z,1):(B.push(te),z++)}}}return b[F]=A.length,n.createSparseMatrix({values:B,index:A,ptr:b,size:[m,F],datatype:g})}}),Gs="multiplyScalar",Ks=["typed"],Qs=Q(Gs,Ks,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":su,"Complex, Complex":function(u,n){return u.mul(n)},"BigNumber, BigNumber":function(u,n){return u.times(n)},"Fraction, Fraction":function(u,n){return u.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(r,u)=>u.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,u)=>r.multiply(u)})}),ln="multiply",js=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],ef=Q(ln,js,e=>{var{typed:t,matrix:r,addScalar:u,multiplyScalar:n,equalScalar:i,dot:f}=e,h=lu({typed:t,equalScalar:i}),l=Lr({typed:t});function v(E,w){switch(E.length){case 1:switch(w.length){case 1:if(E[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(E[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+E[0]+") must match Matrix rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;case 2:switch(w.length){case 1:if(E[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+E[1]+") must match Vector length ("+w[0]+")");break;case 2:if(E[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+E[1]+") must match Matrix B rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+E.length+" dimensions)")}}function o(E,w,B){if(B===0)throw new Error("Cannot multiply two empty vectors");return f(E,w)}function a(E,w){if(w.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return c(E,w)}function c(E,w){var B=E._data,A=E._size,b=E._datatype,S=w._data,N=w._size,R=w._datatype,Z=A[0],U=N[1],V,z=u,k=n;b&&R&&b===R&&typeof b=="string"&&(V=b,z=t.find(u,[V,V]),k=t.find(n,[V,V]));for(var H=[],Y=0;Y<U;Y++){for(var K=k(B[0],S[0][Y]),ue=1;ue<Z;ue++)K=z(K,k(B[ue],S[ue][Y]));H[Y]=K}return E.createDenseMatrix({data:H,size:[U],datatype:V})}var d=t("_multiplyMatrixVector",{"DenseMatrix, any":s,"SparseMatrix, any":F}),D=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":p,"DenseMatrix, SparseMatrix":m,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":C});function s(E,w){var B=E._data,A=E._size,b=E._datatype,S=w._data,N=w._datatype,R=A[0],Z=A[1],U,V=u,z=n;b&&N&&b===N&&typeof b=="string"&&(U=b,V=t.find(u,[U,U]),z=t.find(n,[U,U]));for(var k=[],H=0;H<R;H++){for(var Y=B[H],K=z(Y[0],S[0]),ue=1;ue<Z;ue++)K=V(K,z(Y[ue],S[ue]));k[H]=K}return E.createDenseMatrix({data:k,size:[R],datatype:U})}function p(E,w){var B=E._data,A=E._size,b=E._datatype,S=w._data,N=w._size,R=w._datatype,Z=A[0],U=A[1],V=N[1],z,k=u,H=n;b&&R&&b===R&&typeof b=="string"&&(z=b,k=t.find(u,[z,z]),H=t.find(n,[z,z]));for(var Y=[],K=0;K<Z;K++){var ue=B[K];Y[K]=[];for(var ne=0;ne<V;ne++){for(var te=H(ue[0],S[0][ne]),Ee=1;Ee<U;Ee++)te=k(te,H(ue[Ee],S[Ee][ne]));Y[K][ne]=te}}return E.createDenseMatrix({data:Y,size:[Z,V],datatype:z})}function m(E,w){var B=E._data,A=E._size,b=E._datatype,S=w._values,N=w._index,R=w._ptr,Z=w._size,U=w._datatype;if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=A[0],z=Z[1],k,H=u,Y=n,K=i,ue=0;b&&U&&b===U&&typeof b=="string"&&(k=b,H=t.find(u,[k,k]),Y=t.find(n,[k,k]),K=t.find(i,[k,k]),ue=t.convert(0,k));for(var ne=[],te=[],Ee=[],ye=w.createSparseMatrix({values:ne,index:te,ptr:Ee,size:[V,z],datatype:k}),_e=0;_e<z;_e++){Ee[_e]=te.length;var ve=R[_e],Le=R[_e+1];if(Le>ve)for(var fe=0,oe=0;oe<V;oe++){for(var Xe=oe+1,xe=void 0,ce=ve;ce<Le;ce++){var Se=N[ce];fe!==Xe?(xe=Y(B[oe][Se],S[ce]),fe=Xe):xe=H(xe,Y(B[oe][Se],S[ce]))}fe===Xe&&!K(xe,ue)&&(te.push(oe),ne.push(xe))}}return Ee[z]=te.length,ye}function F(E,w){var B=E._values,A=E._index,b=E._ptr,S=E._datatype;if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=w._data,R=w._datatype,Z=E._size[0],U=w._size[0],V=[],z=[],k=[],H,Y=u,K=n,ue=i,ne=0;S&&R&&S===R&&typeof S=="string"&&(H=S,Y=t.find(u,[H,H]),K=t.find(n,[H,H]),ue=t.find(i,[H,H]),ne=t.convert(0,H));var te=[],Ee=[];k[0]=0;for(var ye=0;ye<U;ye++){var _e=N[ye];if(!ue(_e,ne))for(var ve=b[ye],Le=b[ye+1],fe=ve;fe<Le;fe++){var oe=A[fe];Ee[oe]?te[oe]=Y(te[oe],K(_e,B[fe])):(Ee[oe]=!0,z.push(oe),te[oe]=K(_e,B[fe]))}}for(var Xe=z.length,xe=0;xe<Xe;xe++){var ce=z[xe];V[xe]=te[ce]}return k[1]=z.length,E.createSparseMatrix({values:V,index:z,ptr:k,size:[Z,1],datatype:H})}function g(E,w){var B=E._values,A=E._index,b=E._ptr,S=E._datatype;if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=w._data,R=w._datatype,Z=E._size[0],U=w._size[0],V=w._size[1],z,k=u,H=n,Y=i,K=0;S&&R&&S===R&&typeof S=="string"&&(z=S,k=t.find(u,[z,z]),H=t.find(n,[z,z]),Y=t.find(i,[z,z]),K=t.convert(0,z));for(var ue=[],ne=[],te=[],Ee=E.createSparseMatrix({values:ue,index:ne,ptr:te,size:[Z,V],datatype:z}),ye=[],_e=[],ve=0;ve<V;ve++){te[ve]=ne.length;for(var Le=ve+1,fe=0;fe<U;fe++){var oe=N[fe][ve];if(!Y(oe,K))for(var Xe=b[fe],xe=b[fe+1],ce=Xe;ce<xe;ce++){var Se=A[ce];_e[Se]!==Le?(_e[Se]=Le,ne.push(Se),ye[Se]=H(oe,B[ce])):ye[Se]=k(ye[Se],H(oe,B[ce]))}}for(var Ge=te[ve],at=ne.length,ot=Ge;ot<at;ot++){var Ct=ne[ot];ue[ot]=ye[Ct]}}return te[V]=ne.length,Ee}function C(E,w){var B=E._values,A=E._index,b=E._ptr,S=E._datatype,N=w._values,R=w._index,Z=w._ptr,U=w._datatype,V=E._size[0],z=w._size[1],k=B&&N,H,Y=u,K=n;S&&U&&S===U&&typeof S=="string"&&(H=S,Y=t.find(u,[H,H]),K=t.find(n,[H,H]));for(var ue=k?[]:void 0,ne=[],te=[],Ee=E.createSparseMatrix({values:ue,index:ne,ptr:te,size:[V,z],datatype:H}),ye=k?[]:void 0,_e=[],ve,Le,fe,oe,Xe,xe,ce,Se,Ge=0;Ge<z;Ge++){te[Ge]=ne.length;var at=Ge+1;for(Xe=Z[Ge],xe=Z[Ge+1],oe=Xe;oe<xe;oe++)if(Se=R[oe],k)for(Le=b[Se],fe=b[Se+1],ve=Le;ve<fe;ve++)ce=A[ve],_e[ce]!==at?(_e[ce]=at,ne.push(ce),ye[ce]=K(N[oe],B[ve])):ye[ce]=Y(ye[ce],K(N[oe],B[ve]));else for(Le=b[Se],fe=b[Se+1],ve=Le;ve<fe;ve++)ce=A[ve],_e[ce]!==at&&(_e[ce]=at,ne.push(ce));if(k)for(var ot=te[Ge],Ct=ne.length,_t=ot;_t<Ct;_t++){var Dr=ne[_t];ue[_t]=ye[Dr]}}return te[z]=ne.length,Ee}return t(ln,n,{"Array, Array":t.referTo("Matrix, Matrix",E=>(w,B)=>{v(lt(w),lt(B));var A=E(r(w),r(B));return Me(A)?A.valueOf():A}),"Matrix, Matrix":function(w,B){var A=w.size(),b=B.size();return v(A,b),A.length===1?b.length===1?o(w,B,A[0]):a(w,B):b.length===1?d(w,B):D(w,B)},"Matrix, Array":t.referTo("Matrix,Matrix",E=>(w,B)=>E(w,r(B))),"Array, Matrix":t.referToSelf(E=>(w,B)=>E(r(w,B.storage()),B)),"SparseMatrix, any":function(w,B){return h(w,B,n,!1)},"DenseMatrix, any":function(w,B){return l(w,B,n,!1)},"any, SparseMatrix":function(w,B){return h(B,w,n,!0)},"any, DenseMatrix":function(w,B){return l(B,w,n,!0)},"Array, any":function(w,B){return l(r(w),B,n,!1).valueOf()},"any, Array":function(w,B){return l(r(B),w,n,!0).valueOf()},"any, any":n,"any, any, ...any":t.referToSelf(E=>(w,B,A)=>{for(var b=E(w,B),S=0;S<A.length;S++)b=E(b,A[S]);return b})})}),hn="subtract",tf=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix","concat"],rf=Q(hn,tf,e=>{var{typed:t,matrix:r,equalScalar:u,addScalar:n,unaryMinus:i,DenseMatrix:f,concat:h}=e,l=xs({typed:t}),v=ks({typed:t}),o=Xs({typed:t,equalScalar:u}),a=zs({typed:t,DenseMatrix:f}),c=bs({typed:t,DenseMatrix:f}),d=Zs({typed:t,matrix:r,concat:h});return t(hn,{"number, number":(D,s)=>D-s,"Complex, Complex":(D,s)=>D.sub(s),"BigNumber, BigNumber":(D,s)=>D.minus(s),"Fraction, Fraction":(D,s)=>D.sub(s),"Unit, Unit":t.referToSelf(D=>(s,p)=>{if(s.value===null)throw new Error("Parameter x contains a unit with undefined value");if(p.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!s.equalBase(p))throw new Error("Units do not match");var m=s.clone();return m.value=t.find(D,[m.valueType(),p.valueType()])(m.value,p.value),m.fixPrefix=!1,m})},d({SS:o,DS:l,SD:v,Ss:c,sS:a}))}),dn="conj",nf=["typed"],uf=Q(dn,nf,e=>{var{typed:t}=e;return t(dn,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>u=>ht(u,r))})}),vn="concat",af=["typed","matrix","isInteger"],of=Q(vn,af,e=>{var{typed:t,matrix:r,isInteger:u}=e;return t(vn,{"...Array | Matrix | number | BigNumber":function(i){var f,h=i.length,l=-1,v,o=!1,a=[];for(f=0;f<h;f++){var c=i[f];if(Me(c)&&(o=!0),me(c)||$e(c)){if(f!==h-1)throw new Error("Dimension must be specified as last argument");if(v=l,l=c.valueOf(),!u(l))throw new TypeError("Integer number expected for dimension");if(l<0||f>0&&l>v)throw new At(l,v+1)}else{var d=we(c).valueOf(),D=lt(d);if(a[f]=d,v=l,l=D.length-1,f>0&&l!==v)throw new ae(v+1,l+1)}}if(a.length===0)throw new SyntaxError("At least one matrix expected");for(var s=a.shift();a.length;)s=hu(s,a.shift(),l,0);return o?r(s):s},"...string":function(i){return i.join("")}})});function hu(e,t,r,u){if(u<r){if(e.length!==t.length)throw new ae(e.length,t.length);for(var n=[],i=0;i<e.length;i++)n[i]=hu(e[i],t[i],r,u+1);return n}else return e.concat(t)}var pn="identity",sf=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],ff=Q(pn,sf,e=>{var{typed:t,config:r,matrix:u,BigNumber:n,DenseMatrix:i,SparseMatrix:f}=e;return t(pn,{"":function(){return r.matrix==="Matrix"?u([]):[]},string:function(o){return u(o)},"number | BigNumber":function(o){return l(o,o,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(o,a){return l(o,o,a)},"number | BigNumber, number | BigNumber":function(o,a){return l(o,a,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(o,a,c){return l(o,a,c)},Array:function(o){return h(o)},"Array, string":function(o,a){return h(o,a)},Matrix:function(o){return h(o.valueOf(),o.storage())},"Matrix, string":function(o,a){return h(o.valueOf(),a)}});function h(v,o){switch(v.length){case 0:return o?u(o):[];case 1:return l(v[0],v[0],o);case 2:return l(v[0],v[1],o);default:throw new Error("Vector containing two values expected")}}function l(v,o,a){var c=$e(v)||$e(o)?n:null;if($e(v)&&(v=v.toNumber()),$e(o)&&(o=o.toNumber()),!Ce(v)||v<1)throw new Error("Parameters in function identity must be positive integers");if(!Ce(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var d=c?new n(1):1,D=c?new c(0):0,s=[v,o];if(a){if(a==="sparse")return f.diagonal(s,d,0,D);if(a==="dense")return i.diagonal(s,d,0,D);throw new TypeError('Unknown matrix type "'.concat(a,'"'))}for(var p=_r([],s,D),m=v<o?v:o,F=0;F<m;F++)p[F][F]=d;return p}});function cf(){throw new Error('No "bignumber" implementation available')}function lf(){throw new Error('No "fraction" implementation available')}function hf(){throw new Error('No "matrix" implementation available')}var Dn="size",df=["typed","config","?matrix"],vf=Q(Dn,df,e=>{var{typed:t,config:r,matrix:u}=e;return t(Dn,{Matrix:function(i){return i.create(i.size())},Array:lt,string:function(i){return r.matrix==="Array"?[i.length]:u([i.length])},"number | Complex | BigNumber | Unit | boolean | null":function(i){return r.matrix==="Array"?[]:u?u([]):hf()}})}),pf="numeric",Df=["number","?bignumber","?fraction"],mf=Q(pf,Df,e=>{var{number:t,bignumber:r,fraction:u}=e,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:f=>t(f),BigNumber:r?f=>r(f):cf,Fraction:u?f=>u(f):lf};return function(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",v=arguments.length>2?arguments[2]:void 0;if(v!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=xt(h);if(!(o in n))throw new TypeError("Cannot convert "+h+' of type "'+o+'"; valid input types are '+Object.keys(n).join(", "));if(!(l in i))throw new TypeError("Cannot convert "+h+' to type "'+l+'"; valid output types are '+Object.keys(i).join(", "));return l===o?h:i[l](h)}}),mn="divideScalar",gf=["typed","numeric"],wf=Q(mn,gf,e=>{var{typed:t,numeric:r}=e;return t(mn,{"number, number":function(n,i){return n/i},"Complex, Complex":function(n,i){return n.div(i)},"BigNumber, BigNumber":function(n,i){return n.div(i)},"Fraction, Fraction":function(n,i){return n.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(u,n)=>u.divide(n),"number | Fraction | Complex | BigNumber, Unit":(u,n)=>n.divideInto(u)})}),gn="dot",yf=["typed","addScalar","multiplyScalar","conj","size"],Ff=Q(gn,yf,e=>{var{typed:t,addScalar:r,multiplyScalar:u,conj:n,size:i}=e;return t(gn,{"Array | DenseMatrix, Array | DenseMatrix":h,"SparseMatrix, SparseMatrix":l});function f(o,a){var c=v(o),d=v(a),D,s;if(c.length===1)D=c[0];else if(c.length===2&&c[1]===1)D=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(d.length===1)s=d[0];else if(d.length===2&&d[1]===1)s=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(D!==s)throw new RangeError("Vectors must have equal length ("+D+" != "+s+")");if(D===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return D}function h(o,a){var c=f(o,a),d=Me(o)?o._data:o,D=Me(o)?o._datatype:void 0,s=Me(a)?a._data:a,p=Me(a)?a._datatype:void 0,m=v(o).length===2,F=v(a).length===2,g=r,C=u;if(D&&p&&D===p&&typeof D=="string"){var E=D;g=t.find(r,[E,E]),C=t.find(u,[E,E])}if(!m&&!F){for(var w=C(n(d[0]),s[0]),B=1;B<c;B++)w=g(w,C(n(d[B]),s[B]));return w}if(!m&&F){for(var A=C(n(d[0]),s[0][0]),b=1;b<c;b++)A=g(A,C(n(d[b]),s[b][0]));return A}if(m&&!F){for(var S=C(n(d[0][0]),s[0]),N=1;N<c;N++)S=g(S,C(n(d[N][0]),s[N]));return S}if(m&&F){for(var R=C(n(d[0][0]),s[0][0]),Z=1;Z<c;Z++)R=g(R,C(n(d[Z][0]),s[Z][0]));return R}}function l(o,a){f(o,a);for(var c=o._index,d=o._values,D=a._index,s=a._values,p=0,m=r,F=u,g=0,C=0;g<c.length&&C<D.length;){var E=c[g],w=D[C];if(E<w){g++;continue}if(E>w){C++;continue}E===w&&(p=m(p,F(d[g],s[C])),g++,C++)}return p}function v(o){return Me(o)?o.size():i(o)}}),wn="det",Ef=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],Af=Q(wn,Ef,e=>{var{typed:t,matrix:r,subtract:u,multiply:n,divideScalar:i,isZero:f,unaryMinus:h}=e;return t(wn,{any:function(o){return we(o)},"Array | Matrix":function(o){var a;switch(Me(o)?a=o.size():Array.isArray(o)?(o=r(o),a=o.size()):a=[],a.length){case 0:return we(o);case 1:if(a[0]===1)return we(o.valueOf()[0]);if(a[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ae(a)+")");case 2:{var c=a[0],d=a[1];if(c===d)return l(o.clone().valueOf(),c);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+Ae(a)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ae(a)+")")}}});function l(v,o,a){if(o===1)return we(v[0][0]);if(o===2)return u(n(v[0][0],v[1][1]),n(v[1][0],v[0][1]));for(var c=!1,d=new Array(o).fill(0).map((B,A)=>A),D=0;D<o;D++){var s=d[D];if(f(v[s][D])){var p=void 0;for(p=D+1;p<o;p++)if(!f(v[d[p]][D])){s=d[p],d[p]=d[D],d[D]=s,c=!c;break}if(p===o)return v[s][D]}for(var m=v[s][D],F=D===0?1:v[d[D-1]][D-1],g=D+1;g<o;g++)for(var C=d[g],E=D+1;E<o;E++)v[C][E]=i(u(n(v[C][E],m),n(v[C][D],v[s][E])),F)}var w=v[d[o-1]][o-1];return c?h(w):w}}),yn="inv",Cf=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],_f=Q(yn,Cf,e=>{var{typed:t,matrix:r,divideScalar:u,addScalar:n,multiply:i,unaryMinus:f,det:h,identity:l,abs:v}=e;return t(yn,{"Array | Matrix":function(c){var d=Me(c)?c.size():lt(c);switch(d.length){case 1:if(d[0]===1)return Me(c)?r([u(1,c.valueOf()[0])]):[u(1,c[0])];throw new RangeError("Matrix must be square (size: "+Ae(d)+")");case 2:{var D=d[0],s=d[1];if(D===s)return Me(c)?r(o(c.valueOf(),D,s),c.storage()):o(c,D,s);throw new RangeError("Matrix must be square (size: "+Ae(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ae(d)+")")}},any:function(c){return u(1,c)}});function o(a,c,d){var D,s,p,m,F;if(c===1){if(m=a[0][0],m===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,m)]]}else if(c===2){var g=h(a);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(a[1][1],g),u(f(a[0][1]),g)],[u(f(a[1][0]),g),u(a[0][0],g)]]}else{var C=a.concat();for(D=0;D<c;D++)C[D]=C[D].concat();for(var E=l(c).valueOf(),w=0;w<d;w++){var B=v(C[w][w]),A=w;for(D=w+1;D<c;)v(C[D][w])>B&&(B=v(C[D][w]),A=D),D++;if(B===0)throw Error("Cannot calculate inverse, determinant is zero");D=A,D!==w&&(F=C[w],C[w]=C[D],C[D]=F,F=E[w],E[w]=E[D],E[D]=F);var b=C[w],S=E[w];for(D=0;D<c;D++){var N=C[D],R=E[D];if(D!==w){if(N[w]!==0){for(p=u(f(N[w]),b[w]),s=w;s<d;s++)N[s]=n(N[s],i(p,b[s]));for(s=0;s<d;s++)R[s]=n(R[s],i(p,S[s]))}}else{for(p=b[w],s=w;s<d;s++)N[s]=u(N[s],p);for(s=0;s<d;s++)R[s]=u(R[s],p)}}}return E}}}),bf="divide",Bf=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Mf=Q(bf,Bf,e=>{var{typed:t,matrix:r,multiply:u,equalScalar:n,divideScalar:i,inv:f}=e,h=lu({typed:t,equalScalar:n}),l=Lr({typed:t});return t("divide",In({"Array | Matrix, Array | Matrix":function(o,a){return u(o,f(a))},"DenseMatrix, any":function(o,a){return l(o,a,i,!1)},"SparseMatrix, any":function(o,a){return h(o,a,i,!1)},"Array, any":function(o,a){return l(r(o),a,i,!1).valueOf()},"any, Array | Matrix":function(o,a){return u(o,f(a))}},i.signatures))}),qr=So({config:Zt}),Sf=Io({}),du=$o({}),Ur=qo({}),hr=Zo({Matrix:Ur}),ge=xa({BigNumber:qr,Complex:Sf,DenseMatrix:hr,Fraction:du}),Nf=ws({typed:ge}),dr=Fs({typed:ge}),xf=cs({BigNumber:qr,typed:ge}),Tf=uf({typed:ge}),vr=jo({config:Zt,typed:ge}),If=Wo({typed:ge}),zf=Jo({typed:ge}),vu=Qs({typed:ge}),Of=os({typed:ge}),pu=rs({Matrix:Ur,equalScalar:vr,typed:ge}),Vr=ms({typed:ge}),Pf=ds({Fraction:du,typed:ge}),wt=ps({DenseMatrix:hr,Matrix:Ur,SparseMatrix:pu,typed:ge}),$f=mf({bignumber:xf,fraction:Pf,number:Of}),Rf=vf({matrix:wt,config:Zt,typed:ge}),Lf=of({isInteger:If,matrix:wt,typed:ge}),Zr=wf({numeric:$f,typed:ge}),qf=ff({BigNumber:qr,DenseMatrix:hr,SparseMatrix:pu,config:Zt,matrix:wt,typed:ge}),Uf=Ff({addScalar:dr,conj:Tf,multiplyScalar:vu,size:Rf,typed:ge}),pr=ef({addScalar:dr,dot:Uf,equalScalar:vr,matrix:wt,multiplyScalar:vu,typed:ge}),Vf=rf({DenseMatrix:hr,addScalar:dr,concat:Lf,equalScalar:vr,matrix:wt,typed:ge,unaryMinus:Vr}),Zf=Af({divideScalar:Zr,isZero:zf,matrix:wt,multiply:pr,subtract:Vf,typed:ge,unaryMinus:Vr}),Hf=_f({abs:Nf,addScalar:dr,det:Zf,divideScalar:Zr,identity:qf,matrix:wt,multiply:pr,typed:ge,unaryMinus:Vr}),Wf=Mf({divideScalar:Zr,equalScalar:vr,inv:Hf,matrix:wt,multiply:pr,typed:ge});function kf(e){const t={};return["width","height","top","left","rotate"].forEach(r=>{r!="rotate"?t[r]=e[r]+"px":t.transform="rotate("+e[r]+"deg)"}),t}const Yf=["width","height","scale"];function Jf(e){const t={};return Object.keys(e).filter(r=>!Yf.includes(r)).forEach(r=>{t[r]=e[r],r==="fontSize"&&(t[r]+="px")}),t}const Xf=["fontSize","width","height","top","left","borderWidth","letterSpacing","borderRadius"];function Gf(e,t=[]){const r={};return Object.keys(e).forEach(u=>{t.includes(u)||(u!="rotate"?e[u]!==""&&(r[u]=e[u],Xf.includes(u)&&(r[u]+="px")):r.transform=u+"("+e[u]+"deg)")}),r}function Fn(e,t){return pr(e,Wf(parseInt(t),100))}const Kt=[{component:"LmText",label:"文字",propValue:{},icon:"Document",style:{width:200,height:28,fontSize:10,fontWeight:400,lineHeight:1.5,letterSpacing:0,textAlign:"",color:"",rotate:0}},{component:"LmButton",label:"按钮",propValue:{},icon:"",style:{width:60,height:30,borderWidth:1,borderColor:"",borderRadius:"",fontSize:12,fontWeight:400,lineHeight:1.5,letterSpacing:0,textAlign:"",color:"",backgroundColor:"",rotate:0}},{component:"LmImage",label:"图片",propValue:{src:"https://img10.360buyimg.com/ling/jfs/t1/181258/24/10385/53029/60d04978Ef21f2d42/92baeb21f907cd24.jpg",fit:"fill",position:"center"},icon:"",style:{width:150,height:100,borderRadius:"",rotate:0},animations:[],modal:[],events:[]},{component:"LmVideo",label:"视频",propValue:{},icon:"video",style:{width:60,height:30,borderWidth:1,borderColor:"",borderRadius:"",fontSize:12,fontWeight:400,lineHeight:1.5,letterSpacing:0,textAlign:"",color:"",backgroundColor:"",rotate:0}},{component:"LmCount-down",label:"计时器",propValue:{},icon:"countdown",style:{width:60,height:30,borderWidth:1,borderColor:"",borderRadius:"",fontSize:12,fontWeight:400,lineHeight:1.5,letterSpacing:0,textAlign:"",color:"",backgroundColor:"",rotate:0}},{component:"LmQuestion",label:"题目选项",propValue:{},icon:"",style:{width:60,height:30,borderWidth:1,borderColor:"",borderRadius:"",fontSize:12,fontWeight:400,lineHeight:1.5,letterSpacing:0,textAlign:"",color:"",backgroundColor:"",rotate:0}},{component:"LmQuestion-step",label:"选项卡",propValue:{},icon:"",style:{width:60,height:30,borderWidth:1,borderColor:"",borderRadius:"",fontSize:12,fontWeight:400,lineHeight:1.5,letterSpacing:0,textAlign:"",color:"",backgroundColor:"",rotate:0}}];function Kf(e){return{all:e=e||new Map,on:function(t,r){var u=e.get(t);u?u.push(r):e.set(t,[r])},off:function(t,r){var u=e.get(t);u&&(r?u.splice(u.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var u=e.get(t);u&&u.slice().map(function(n){n(r)}),(u=e.get("*"))&&u.slice().map(function(n){n(t,r)})}}}const Qf=Kf(),Xt=e=>e*Math.PI/180;function se(e,t,r){return{x:(e.x-t.x)*Math.cos(Xt(r))-(e.y-t.y)*Math.sin(Xt(r))+t.x,y:(e.x-t.x)*Math.sin(Xt(r))+(e.y-t.y)*Math.cos(Xt(r))+t.y}}function mt(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}}const jf={lt:ec,t:uc,rt:tc,r:ic,rb:rc,b:ac,lb:nc,l:oc};function ec(e,t,r,u,n){const{symmetricPoint:i}=n;let f=mt(t,i),h=se(t,f,-e.rotate),l=se(i,f,-e.rotate),v=l.x-h.x,o=l.y-h.y;if(u){v/o>r?(h.x+=Math.abs(v-o*r),v=o*r):(h.y+=Math.abs(o-v/r),o=v/r);const a=se(h,f,e.rotate);f=mt(a,i),h=se(a,f,-e.rotate),l=se(i,f,-e.rotate),v=l.x-h.x,o=l.y-h.y}v>0&&o>0&&(e.width=Math.round(v),e.height=Math.round(o),e.left=Math.round(h.x),e.top=Math.round(h.y))}function tc(e,t,r,u,n){const{symmetricPoint:i}=n;let f=mt(t,i),h=se(t,f,-e.rotate),l=se(i,f,-e.rotate),v=h.x-l.x,o=l.y-h.y;if(u){v/o>r?(h.x-=Math.abs(v-o*r),v=o*r):(h.y+=Math.abs(o-v/r),o=v/r);const a=se(h,f,e.rotate);f=mt(a,i),h=se(a,f,-e.rotate),l=se(i,f,-e.rotate),v=h.x-l.x,o=l.y-h.y}v>0&&o>0&&(e.width=Math.round(v),e.height=Math.round(o),e.left=Math.round(l.x),e.top=Math.round(h.y))}function rc(e,t,r,u,n){const{symmetricPoint:i}=n;let f=mt(t,i),h=se(i,f,-e.rotate),l=se(t,f,-e.rotate),v=l.x-h.x,o=l.y-h.y;if(u){v/o>r?(l.x-=Math.abs(v-o*r),v=o*r):(l.y-=Math.abs(o-v/r),o=v/r);const a=se(l,f,e.rotate);f=mt(a,i),h=se(i,f,-e.rotate),l=se(a,f,-e.rotate),v=l.x-h.x,o=l.y-h.y}v>0&&o>0&&(e.width=Math.round(v),e.height=Math.round(o),e.left=Math.round(h.x),e.top=Math.round(h.y))}function nc(e,t,r,u,n){const{symmetricPoint:i}=n;let f=mt(t,i),h=se(i,f,-e.rotate),l=se(t,f,-e.rotate),v=h.x-l.x,o=l.y-h.y;if(u){v/o>r?(l.x+=Math.abs(v-o*r),v=o*r):(l.y-=Math.abs(o-v/r),o=v/r);const a=se(l,f,e.rotate);f=mt(a,i),h=se(i,f,-e.rotate),l=se(a,f,-e.rotate),v=h.x-l.x,o=l.y-h.y}v>0&&o>0&&(e.width=Math.round(v),e.height=Math.round(o),e.left=Math.round(l.x),e.top=Math.round(h.y))}function uc(e,t,r,u,n){const{symmetricPoint:i,curPoint:f}=n,h=se(t,f,-e.rotate),l=se({x:f.x,y:h.y},f,e.rotate),v=Math.sqrt((l.x-i.x)**2+(l.y-i.y)**2),o={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2};let a=e.width;u&&(a=v*r),e.width=a,e.height=Math.round(v),e.top=Math.round(o.y-v/2),e.left=Math.round(o.x-e.width/2)}function ic(e,t,r,u,n){const{symmetricPoint:i,curPoint:f}=n,h=se(t,f,-e.rotate),l=se({x:h.x,y:f.y},f,e.rotate),v=Math.sqrt((l.x-i.x)**2+(l.y-i.y)**2),o={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2};let a=e.height;u&&(a=v/r),e.height=a,e.width=Math.round(v),e.top=Math.round(o.y-e.height/2),e.left=Math.round(o.x-v/2)}function ac(e,t,r,u,n){const{symmetricPoint:i,curPoint:f}=n,h=se(t,f,-e.rotate),l=se({x:f.x,y:h.y},f,e.rotate),v=Math.sqrt((l.x-i.x)**2+(l.y-i.y)**2),o={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2};let a=e.width;u&&(a=v*r),console.log(v,"newHeight"),e.width=a,e.height=Math.round(v),e.top=Math.round(o.y-v/2),e.left=Math.round(o.x-e.width/2)}function oc(e,t,r,u,n){const{symmetricPoint:i,curPoint:f}=n,h=se(t,f,-e.rotate),l=se({x:h.x,y:f.y},f,e.rotate),v=Math.sqrt((l.x-i.x)**2+(l.y-i.y)**2),o={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2};let a=e.height;u&&(a=v/r),e.height=a,e.width=Math.round(v),e.top=Math.round(o.y-e.height/2),e.left=Math.round(o.x-v/2)}function sc(e,t,r,u,n,i){jf[e](t,r,u,n,i)}const fc=["onMousedown"],cc=Je({__name:"index",props:{active:{type:Boolean},component:{},index:{},defaultStyle:{},editor:{}},setup(e){const t=e,r=It(),u=je(!1),n=()=>t.active&&u.value,i=o=>{u.value=!0,o.stopPropagation(),o.preventDefault()},f=o=>{Ju(()=>{Qf.emit("componentClick","jjjj")}),console.log(t,"handleMouseDownOnShape"),r.setCurComponent(t.component,t.index);const a={...t.defaultStyle};console.log(t.defaultStyle,"props.defaultStyle");const c=o.clientX,d=o.clientY,D=Number(a.top),s=Number(a.left),p=F=>{const g=F.clientX,C=F.clientY;a.top=C-d+D,a.left=g-c+s,It().setShapeStyle(a)},m=()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",m)},h=()=>[{point:"lt",cursor:"nw"},{point:"t",cursor:"n"},{point:"rt",cursor:"ne"},{point:"r",cursor:"e"},{point:"rb",cursor:"se"},{point:"b",cursor:"s"},{point:"lb",cursor:"sw"},{point:"l",cursor:"w"}],l=({point:o,cursor:a})=>{const{width:c,height:d}=t.defaultStyle,D=/t/.test(o),s=/b/.test(o),p=/l/.test(o),m=/r/.test(o);let F=0,g=0;return o.length===2?(F=p?0:c,g=D?0:d):((D||s)&&(F=c/2,g=D?0:d),(p||m)&&(F=p?0:c,g=Math.floor(d/2))),{marginLeft:"-3px",marginTop:"-3px",left:`${F}px`,top:`${g}px`,cursor:a+"-resize"}},v=(o,a)=>{a.stopPropagation(),a.preventDefault(),console.log(t.defaultStyle,"props.defaultStyle");const c={...t.defaultStyle},d=c.width/c.height,D={x:c.left+c.width/2,y:c.top+c.height/2},s=t.editor.getBoundingClientRect();console.log(s,"editorRectInfo",c);const p=a.target.getBoundingClientRect(),m={x:Math.round(p.left-s.left+a.target.offsetWidth/2),y:Math.round(p.top-s.top+a.target.offsetHeight/2)},F={x:D.x-(m.x-D.x),y:D.y-(m.y-D.y)};let g=!0;const C=w=>{if(g){g=!1;return}const B={x:w.clientX-Math.round(s.left),y:w.clientY-Math.round(s.top)};sc(o.point,c,B,d,!1,{center:D,curPoint:m,symmetricPoint:F}),console.log(c,"style==",o.point),r.setShapeStyle(c)},E=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",E)};return(o,a)=>(j(),de("div",{class:Ir(["shape",{active:o.active}]),onClick:i,onMousedown:f},[(j(!0),de(pt,null,Et(n()?h():[],(c,d)=>(j(),de("div",{key:d,class:"shape-point",style:Nt(l(c)),onMousedown:D=>v(c,D)},null,44,fc))),128)),An(o.$slots,"default",{},void 0,!0)],34))}});const lc=et(cc,[["__scopeId","data-v-a39988aa"]]),hc=Je({__name:"index",setup(e){const t=It(),r=je(t.componentData),u=t.canvasStyleData,n={LmText:wi,LmButton:di,LmImage:Ai},i=d=>{const D=d.dataTransfer.getData("index"),s=l.value.getBoundingClientRect();if(console.log(D,"handleDrop"),D){const p=Mn(Kt[D]);t.addComponent(p,D),p.style.top=d.clientY-s.y,p.style.left=d.clientX-s.x,p.id=_i()}},f=d=>{d.preventDefault(),d.dataTransfer.dropEffect="copy",console.log("handleDragOver")},h=d=>{d.stopPropagation(),console.log("handleMouseDown")},l=je(),v=()=>{},o=d=>Gf(d,["width","height","top","left","rotate"]),a=(d,D)=>{console.log(d,"handleInput=====================",D),t.setShapeStyle({height:c(d,D)})},c=(d,D)=>{let{lineHeight:s,fontSize:p,height:m}=d.style;s||(s=1.5);const F=(D.split("<br>").length-1)*s*(p||u.fontSize);return console.log(F,"newHeight"),console.log(D.split("<br>"),"text.split('<br>')"),m>F?m:F};return(d,D)=>(j(),de("div",{class:"content",onDrop:i,onDragover:f,onMousedown:h,onMouseup:v},[re("div",{ref_key:"editorRef",ref:l,class:"editor",style:Nt({...le(Jf)(le(u)),width:le(Fn)(le(u).width,le(u).scale)+"px",height:le(Fn)(le(u).height,le(u).scale)+"px"})},[(j(!0),de(pt,null,Et(r.value,(s,p)=>(j(),Ze(lc,{key:p,index:p,component:s,"default-style":s.style,style:Nt(le(kf)(s.style)),active:s.id===(le(t).curComponent&&le(t).curComponent.id),editor:l.value},{default:Fe(()=>[s.component==="LmText"?(j(),Ze(Lt(n[s.component]),{key:0,class:"component","prop-value":s.propValue,style:Nt(o(s.style)),element:s,canEdit:!0,onInput:a},null,40,["prop-value","style","element"])):(j(),Ze(Lt(n[s.component]),Xu({key:1,class:"component"},{...s.propValue},{style:o(s.style),element:s}),null,16,["style","element"]))]),_:2},1032,["index","component","default-style","style","active","editor"]))),128))],4)],32))}});const dc=et(hc,[["__scopeId","data-v-73481315"]]);const vc=[{key:"left",label:"x 坐标"},{key:"top",label:"y 坐标"},{key:"rotate",label:"旋转角度"},{key:"width",label:"宽"},{key:"height",label:"高"},{key:"color",label:"颜色"},{key:"backgroundColor",label:"背景色"},{key:"borderWidth",label:"边框宽度"},{key:"borderStyle",label:"边框风格"},{key:"borderColor",label:"边框颜色"},{key:"borderRadius",label:"边框半径"},{key:"fontSize",label:"字体大小"},{key:"fontWeight",label:"字体粗细"},{key:"lineHeight",label:"行高"},{key:"letterSpacing",label:"字间距"},{key:"textAlign",label:"对齐方式"},{key:"verticalAlign",label:"上下对齐"},{key:"opacity",label:"不透明度"}],pc=["textAlign","borderStyle","verticalAlign"],Dc={textAlign:[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],borderStyle:[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"}],verticalAlign:[{label:"上对齐",value:"top"},{label:"居中对齐",value:"middle"},{label:"下对齐",value:"bottom"}]},mc={key:0,class:"attr-side"},gc=Je({__name:"component",setup(e){const t=It(),r=je("first"),u=je("1"),n=qt(()=>{const f=Object.keys(t.curComponent.style);return vc.filter(h=>f.includes(h.key))}),i=f=>f.toLowerCase().includes("color");return(f,h)=>{const l=Cn,v=Gu,o=Ku,a=Qu,c=_n,d=bn,D=ju,s=ei,p=ti,m=ri,F=ni;return le(t).curComponent?(j(),de("div",mc,[ie(F,{modelValue:r.value,"onUpdate:modelValue":h[2]||(h[2]=g=>r.value=g),class:"tabs"},{default:Fe(()=>[ie(m,{label:"属性",name:"first"},{default:Fe(()=>[ie(p,{modelValue:u.value,"onUpdate:modelValue":h[1]||(h[1]=g=>u.value=g),accordion:""},{default:Fe(()=>[ie(D,{title:"通用样式",name:"1"},{default:Fe(()=>[re("div",null,[ie(d,{inline:!0},{default:Fe(()=>[(j(!0),de(pt,null,Et(n.value,(g,C)=>(j(),Ze(c,{key:C,label:g.label},{default:Fe(()=>[i(g.key)?(j(),Ze(l,{key:0,modelValue:le(t).curComponent.style[g.key],"onUpdate:modelValue":E=>le(t).curComponent.style[g.key]=E,"show-alpha":""},null,8,["modelValue","onUpdate:modelValue"])):le(pc).includes(g.key)?(j(),Ze(o,{key:1,modelValue:le(t).curComponent.style[g.key],"onUpdate:modelValue":E=>le(t).curComponent.style[g.key]=E},{default:Fe(()=>[(j(!0),de(pt,null,Et(le(Dc)[g.key],E=>(j(),Ze(v,{key:E.value,label:E.label,value:E.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):(j(),Ze(a,{key:2,modelValue:le(t).curComponent.style[g.key],"onUpdate:modelValue":E=>le(t).curComponent.style[g.key]=E,modelModifiers:{number:!0},size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["label"]))),128))]),_:1})])]),_:1}),["LmButton"].includes(le(t).curComponent.component)?(j(),Ze(D,{key:0,title:"内容",name:"2"},{default:Fe(()=>[ie(s,{modelValue:le(t).curComponent.propValue,"onUpdate:modelValue":h[0]||(h[0]=g=>le(t).curComponent.propValue=g)},null,8,["modelValue"])]),_:1})):Qt("",!0)]),_:1},8,["modelValue"])]),_:1}),ie(m,{label:"动画",name:"second"}),ie(m,{label:"事件",name:"third"})]),_:1},8,["modelValue"])])):Qt("",!0)}}});const wc=et(gc,[["__scopeId","data-v-9aa01975"]]),Ht=e=>(zr("data-v-713bc3de"),e=e(),Or(),e),yc={class:"attr-set-wrap"},Fc={key:0,class:"project-set"},Ec=Ht(()=>re("div",{class:"p-set-header"},"作品",-1)),Ac={class:"p-set-content"},Cc={class:"panel-list"},_c=Ht(()=>re("div",{class:"panel-header"},"画布背景",-1)),bc=Ht(()=>re("div",{class:"p-set-upload"},"上传背景图片",-1)),Bc={class:"panel-list"},Mc={class:"panel-header"},Sc=Ht(()=>re("span",null,"音乐",-1)),Nc=Ht(()=>re("div",{class:"p-set-upload"},"上传背景音乐",-1)),xc=Je({__name:"index",setup(e){const t=It(),r={backgroundColor:"#fff"},u=je(!1),n=je({icon:"",autoplay:!0,loop:!0});return(i,f)=>{const h=Cn,l=ui,v=Bn,o=_n,a=bn;return j(),de("div",yc,[le(t).curComponent?(j(),Ze(wc,{key:1})):(j(),de("div",Fc,[Ec,re("ul",Ac,[re("li",Cc,[_c,ie(h,{modelValue:r.backgroundColor,"onUpdate:modelValue":f[0]||(f[0]=c=>r.backgroundColor=c),"show-alpha":""},null,8,["modelValue"]),bc]),re("li",Bc,[re("div",Mc,[Sc,ie(l,{"inline-prompt":"","active-text":"开启","inactive-text":"关闭",modelValue:u.value,"onUpdate:modelValue":f[1]||(f[1]=c=>u.value=c)},null,8,["modelValue"])]),u.value?(j(),de(pt,{key:0},[Nc,ie(a,{model:n.value,"label-width":"80px","label-position":"left"},{default:Fe(()=>[ie(o,{label:"图标"},{default:Fe(()=>[ie(v,null,{default:Fe(()=>[ft("上传")]),_:1})]),_:1}),ie(o,{label:"自动播放"},{default:Fe(()=>[ie(l,{modelValue:n.value.autoplay,"onUpdate:modelValue":f[2]||(f[2]=c=>n.value.autoplay=c)},null,8,["modelValue"])]),_:1}),ie(o,{label:"循环播放"},{default:Fe(()=>[ie(l,{modelValue:n.value.loop,"onUpdate:modelValue":f[3]||(f[3]=c=>n.value.loop=c)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])],64)):Qt("",!0)])])]))])}}});const Tc=et(xc,[["__scopeId","data-v-713bc3de"]]),Ic={class:"tool-bar"},zc=Je({__name:"index",setup(e){const t=It(),r=()=>{console.log(t.componentData,"store.componentData"),window.open("http://localhost:10087/#/")};return(u,n)=>{const i=Bn;return j(),de("div",Ic,[ie(i,{onClick:n[0]||(n[0]=f=>r())},{default:Fe(()=>[ft("预览")]),_:1})])}}});const Oc=et(zc,[["__scopeId","data-v-f4c1a12b"]]),Hr=e=>(zr("data-v-cd2522ce"),e=e(),Or(),e),Pc=Hr(()=>re("div",{class:"group-title"},"基础组件",-1)),$c={class:"list-wrap"},Rc=["data-index"],Lc=Hr(()=>re("div",{class:"group-title"},"媒体组件",-1)),qc={class:"list-wrap"},Uc=["data-index"],Vc=Hr(()=>re("div",{class:"group-title"},"功能组件",-1)),Zc={class:"list-wrap"},Hc=["data-index"],Wc=Je({__name:"index",setup(e){const t=r=>{console.log(r.target.dataset.index),r.dataTransfer.setData("index",r.target.dataset.index)};return(r,u)=>(j(),de("div",{class:"component-list",onDragstart:t},[Pc,re("ul",$c,[(j(!0),de(pt,null,Et(le(Kt).slice(0,2),(n,i)=>(j(),de("li",{key:i,class:"list",draggable:"true","data-index":i},[(j(),Ze(Lt(n.icon),{class:"list-icon"})),ft(" "+mr(n.label),1)],8,Rc))),128))]),Lc,re("ul",qc,[(j(!0),de(pt,null,Et(le(Kt).slice(2,4),(n,i)=>(j(),de("li",{key:i,class:"list",draggable:"true","data-index":i+2},[(j(),Ze(Lt(n.icon),{class:"list-icon"})),ft(" "+mr(n.label),1)],8,Uc))),128))]),Vc,re("ul",Zc,[(j(!0),de(pt,null,Et(le(Kt).slice(4),(n,i)=>(j(),de("li",{key:i,class:"list",draggable:"true","data-index":i+4},[(j(),Ze(Lt(n.icon),{class:"list-icon"})),ft(" "+mr(n.label),1)],8,Hc))),128))])],32))}});const kc=et(Wc,[["__scopeId","data-v-cd2522ce"]]);const Yc={},Du=e=>(zr("data-v-7091f6f4"),e=e(),Or(),e),Jc={class:"aside-page-container"},Xc={class:"aside-p-add"},Gc={class:"aside-p-add-btn"},Kc=Du(()=>re("span",null,"添加画布",-1)),Qc=Du(()=>re("ul",{class:"aside-p-list"},[re("li",{class:"aside-p-item"}),re("li",{class:"aside-p-item"}),re("li",{class:"aside-p-item"})],-1));function jc(e,t){const r=ii("Plus"),u=ai;return j(),de("div",Jc,[re("div",Xc,[re("div",Gc,[ie(u,null,{default:Fe(()=>[ie(r)]),_:1}),Kc])]),Qc])}const e0=et(Yc,[["render",jc],["__scopeId","data-v-7091f6f4"]]),t0={class:"aside"},r0={class:"aside-navs"},n0={key:0},u0=Je({__name:"index",setup(e){const t=je(!0),r=je(""),u=n=>{r.value=n+""};return(n,i)=>{const f=si,h=oi,l=kc;return j(),de("div",t0,[ie(h,{"default-active":r.value,class:"el-menu-vertical",collapse:t.value,onSelect:u},{default:Fe(()=>[ie(f,{index:"1"},{default:Fe(()=>[ft("组件")]),_:1}),ie(f,{index:"2"},{default:Fe(()=>[ft("模板")]),_:1}),ie(f,{index:"3"},{default:Fe(()=>[ft("页面")]),_:1}),ie(f,{index:"4"},{default:Fe(()=>[ft("素材")]),_:1})]),_:1},8,["default-active","collapse"]),re("div",r0,[r.value?(j(),de("div",n0,[r.value==="1"?(j(),Ze(l,{key:0})):Qt("",!0)])):(j(),Ze(e0,{key:1}))])])}}});const i0=et(u0,[["__scopeId","data-v-0701f72d"]]),a0={class:"home"},o0={class:"main"},s0={class:"left"},f0={class:"center"},c0={class:"right"},l0=Je({__name:"home",setup(e){return(t,r)=>(j(),de("div",a0,[ie(Oc),re("main",o0,[re("section",s0,[ie(i0)]),re("section",f0,[ie(dc)]),re("section",c0,[ie(Tc)])])]))}});const v0=et(l0,[["__scopeId","data-v-5a0b2c98"]]);export{v0 as default};
